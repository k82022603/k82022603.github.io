---
title: "Claude Code & Google Antigravity í†µí•© ê°œë°œì ê°€ì´ë“œ"
date: 2026-01-20 06:00:00 +0900
categories: [AI,  Claude Code & Google Antigravity]
mermaid: [True]
tags: [AI,   claude-code,  Antigravity,   Developer,  Guide,  Claude.write]
---

## AI ì½”ë”©ì˜ ìƒˆë¡œìš´ íŒ¨ëŸ¬ë‹¤ì„: ë©€í‹° ì—ì´ì „íŠ¸ ê°œë°œ ì›Œí¬í”Œë¡œìš°

---
## ê´€ë ¨ì˜ìƒ

[**Claude Codeê°€ ë¯¸ì³¤ìŠµë‹ˆë‹¤: ì¼ì£¼ì¼ ë§Œì— ì—­ëŒ€ê¸‰ ì—…ë°ì´íŠ¸ ì´ì •ë¦¬!**](https://www.youtube.com/watch?v=kcNYHW5UF-Y)

---

## ëª©ì°¨

1. [ê°œìš”](#ê°œìš”)
2. [Claude Code 2.1 í˜ëª…ì  ì—…ë°ì´íŠ¸](#claude-code-21-í˜ëª…ì -ì—…ë°ì´íŠ¸)
3. [Google Antigravity ì™„ì „ ë¶„ì„](#google-antigravity-ì™„ì „-ë¶„ì„)
4. [Claude Code + Antigravity í†µí•© ì›Œí¬í”Œë¡œìš°](#claude-code--antigravity-í†µí•©-ì›Œí¬í”Œë¡œìš°)
5. [ì‹¤ì „ í”„ë¡œì íŠ¸ êµ¬í˜„ ê°€ì´ë“œ](#ì‹¤ì „-í”„ë¡œì íŠ¸-êµ¬í˜„-ê°€ì´ë“œ)
6. [ê³ ê¸‰ ìµœì í™” ì „ëµ](#ê³ ê¸‰-ìµœì í™”-ì „ëµ)
7. [íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ë° ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤](#íŠ¸ëŸ¬ë¸”ìŠˆíŒ…-ë°-ë² ìŠ¤íŠ¸-í”„ë™í‹°ìŠ¤)
8. [ë¶€ë¡: ì„¤ì • íŒŒì¼ ë° ìŠ¤í¬ë¦½íŠ¸ ì˜ˆì œ](#ë¶€ë¡-ì„¤ì •-íŒŒì¼-ë°-ìŠ¤í¬ë¦½íŠ¸-ì˜ˆì œ)

---

## ê°œìš”

2025ë…„ 11ì›”, AI ê°œë°œ ë„êµ¬ ìƒíƒœê³„ì— ë‘ ê°€ì§€ ì§€ê°ë³€ë™ì´ ì¼ì–´ë‚¬ìŠµë‹ˆë‹¤. Anthropicì˜ Claude Code 2.1 ì—…ë°ì´íŠ¸ì™€ Googleì˜ Antigravity í”Œë«í¼ ì¶œì‹œì…ë‹ˆë‹¤. ì´ ë‘ ë„êµ¬ëŠ” ê°ê° ë…ë¦½ì ìœ¼ë¡œë„ ê°•ë ¥í•˜ì§€ë§Œ, í•¨ê»˜ ì‚¬ìš©í•˜ë©´ ê°œë°œìê°€ "ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ì‚¬ëŒ"ì—ì„œ "AI íŒ€ì„ ì§€íœ˜í•˜ëŠ” ì•„í‚¤í…íŠ¸"ë¡œ ì§„í™”í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.

### ì™œ ì´ ì¡°í•©ì´ í˜ëª…ì ì¸ê°€?

ì „í†µì ì¸ ê°œë°œ ì›Œí¬í”Œë¡œìš°ëŠ” ë‹¨ì¼ ê°œë°œìê°€ ëª¨ë“  ë‹¨ê³„ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ì´ì—ˆìŠµë‹ˆë‹¤. ê¸°íš â†’ ì„¤ê³„ â†’ ì½”ë”© â†’ í…ŒìŠ¤íŠ¸ â†’ ë°°í¬ë¼ëŠ” ì„ í˜•ì  í”„ë¡œì„¸ìŠ¤ ë§ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ Claude Codeì™€ Antigravityì˜ ì¡°í•©ì€ ì´ë¥¼ ë³‘ë ¬ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•œ ë©€í‹° ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œìœ¼ë¡œ ì „í™˜í•©ë‹ˆë‹¤.

**í•µì‹¬ ê°€ì¹˜ ì œì•ˆ:**
- **Antigravityì˜ Gemini 3 Pro**: í”„ë¡œì íŠ¸ ì „ì²´ êµ¬ì¡°ë¥¼ íŒŒì•…í•˜ê³  ìƒì„¸í•œ ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•©ë‹ˆë‹¤
- **Claude Codeì˜ Opus/Sonnet 4.5**: ì‹¤ì œ ì½”ë“œë¥¼ ì‘ì„±í•˜ê³  ë¦¬íŒ©í† ë§í•˜ë©° ë²„ê·¸ë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤
- **Antigravityì˜ Test Agent**: ë¸Œë¼ìš°ì € ìë™í™”ì™€ í†µí•© í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤
- **MCP Servers**: ì™¸ë¶€ API, ë°ì´í„°ë² ì´ìŠ¤, í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ì™€ì˜ í†µí•©ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤

ì´ ê°€ì´ë“œëŠ” ì´ë¡ ì  ì„¤ëª…ì— ê·¸ì¹˜ì§€ ì•Šê³ , ì‹¤ì œë¡œ ë™ì‘í•˜ëŠ” ì›Œí¬í”Œë¡œìš°ë¥¼ êµ¬ì¶•í•˜ëŠ” ë°©ë²•ì„ ìƒì„¸íˆ ë‹¤ë£¹ë‹ˆë‹¤. ìˆ˜ë°± ì¤„ì˜ ì½”ë“œ ì˜ˆì œ, ì‹¤ì „ ì‹œë‚˜ë¦¬ì˜¤, ê·¸ë¦¬ê³  ê²€ì¦ëœ ìµœì í™” ê¸°ë²•ë“¤ì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

---

## Claude Code 2.1 í˜ëª…ì  ì—…ë°ì´íŠ¸

### 1. í”Œë˜ë‹ ëª¨ë“œì˜ ì§„í™”: í˜‘ì—… ê°€ëŠ¥í•œ ê³„íšì„œ ìƒì„±

Claude Codeì˜ Planning ModeëŠ” ë‹¨ìˆœíˆ ê³„íšì„ ì„¸ìš°ëŠ” ë„êµ¬ë¥¼ ë„˜ì–´, ë‹¤ë¥¸ AI ì—ì´ì „íŠ¸ì™€ í˜‘ì—…í•  ìˆ˜ ìˆëŠ” "ê³µìœ  ê°€ëŠ¥í•œ ì²­ì‚¬ì§„"ì„ ë§Œë“œëŠ” ì‹œìŠ¤í…œìœ¼ë¡œ ë°œì „í–ˆìŠµë‹ˆë‹¤.

#### 1.1 ê³„íšì„œ ì €ì¥ ìœ„ì¹˜ ì»¤ìŠ¤í„°ë§ˆì´ì§•

ê³¼ê±°ì—ëŠ” Claude Codeê°€ ìƒì„±í•œ ê³„íšì„œê°€ `~/.code.claude/claude/plans` ê°™ì€ ìˆ¨ê²¨ì§„ ë””ë ‰í† ë¦¬ì— ë¬´ì‘ìœ„ ì´ë¦„ìœ¼ë¡œ ì €ì¥ë˜ì–´ ê´€ë¦¬ê°€ ì–´ë ¤ì› ìŠµë‹ˆë‹¤. ì´ì œëŠ” í”„ë¡œì íŠ¸ì™€ ê°™ì€ ìœ„ì¹˜ì— ì €ì¥í•˜ê±°ë‚˜ íŠ¹ì • ë””ë ‰í† ë¦¬ë¥¼ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ì„¤ì • ë°©ë²•:**

Claude Codeì˜ `settings.json` íŒŒì¼ì„ í¸ì§‘í•©ë‹ˆë‹¤:

```json
{
  "plansDirectory": "${workspaceFolder}/.claude/plans",
  "planFileNaming": {
    "pattern": "plan-{date}-{title}.md",
    "dateFormat": "YYYY-MM-DD"
  }
}
```

ì´ë ‡ê²Œ ì„¤ì •í•˜ë©´ ê³„íšì„œê°€ í”„ë¡œì íŠ¸ ë£¨íŠ¸ì˜ `.claude/plans` í´ë”ì— `plan-2026-01-20-auth-system.md` ê°™ì€ í˜•ì‹ìœ¼ë¡œ ì €ì¥ë©ë‹ˆë‹¤.

**ì™œ ì´ê²ƒì´ ì¤‘ìš”í•œê°€?**

Antigravityì˜ Gemini ì—ì´ì „íŠ¸ë‚˜ ë‹¤ë¥¸ AI ë„êµ¬ë“¤ì´ ì´ ê³„íšì„œë¥¼ ì½ê³  ë¹„í‰í•˜ê±°ë‚˜ ë³´ì™„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, Claude Codeê°€ ì¸ì¦ ì‹œìŠ¤í…œ êµ¬í˜„ ê³„íšì„ ì‘ì„±í•˜ë©´, Antigravityì˜ ë³´ì•ˆ ê²€í†  ì—ì´ì „íŠ¸ê°€ ì´ë¥¼ ë¶„ì„í•˜ì—¬ OAuth 2.0 í”Œë¡œìš°ì˜ ì ì¬ì  ì·¨ì•½ì ì„ ì§€ì í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### 1.2 ì»¨í…ìŠ¤íŠ¸ ìœˆë„ìš° ê´€ë¦¬ í˜ì‹ : "Clear and Accept"

Planning Modeì—ì„œ ê°€ì¥ í° ë¬¸ì œ ì¤‘ í•˜ë‚˜ëŠ” ê³„íš ìˆ˜ë¦½ ê³¼ì •ì—ì„œ ì´ë¯¸ ì»¨í…ìŠ¤íŠ¸ ìœˆë„ìš°ì˜ ìƒë‹¹ ë¶€ë¶„(ë³´í†µ 60,000~80,000 í† í°)ì„ ì†Œë¹„í•œë‹¤ëŠ” ì ì´ì—ˆìŠµë‹ˆë‹¤. ì´ ìƒíƒœì—ì„œ ë°”ë¡œ ì½”ë”©ì„ ì‹œì‘í•˜ë©´ ëª¨ë¸ì´ ê³„íšì˜ ì„¸ë¶€ì‚¬í•­ì„ "ìŠì–´ë²„ë¦¬ëŠ”" í˜„ìƒì´ ë°œìƒí•©ë‹ˆë‹¤.

**ìƒˆë¡œìš´ ì†”ë£¨ì…˜:**

ê³„íš ìŠ¹ì¸ ì‹œ "Yes, clear and accept edits" ì˜µì…˜ì„ ì„ íƒí•˜ë©´:
1. í˜„ì¬ ì±„íŒ… ì„¸ì…˜ì´ ì¢…ë£Œë©ë‹ˆë‹¤
2. ìµœì¢… í™•ì •ëœ ê³„íšì„œë§Œ ìƒˆ ì„¸ì…˜ì— ë¡œë“œë©ë‹ˆë‹¤
3. ê¹¨ë—í•œ ì»¨í…ìŠ¤íŠ¸ ìœˆë„ìš°(~200K í† í°)ì—ì„œ ì½”ë”©ì„ ì‹œì‘í•©ë‹ˆë‹¤

**ì‹¤ì œ íš¨ê³¼:**

ì œê°€ í…ŒìŠ¤íŠ¸í•œ ê²°ê³¼, ëŒ€ê·œëª¨ ë¦¬íŒ©í† ë§ ì‘ì—…ì—ì„œ ì´ ê¸°ëŠ¥ì„ ì‚¬ìš©í–ˆì„ ë•Œ ì»¨í…ìŠ¤íŠ¸ ì••ì¶•ìœ¼ë¡œ ì¸í•œ ì˜¤ë¥˜ê°€ ì•½ 73% ê°ì†Œí–ˆìŠµë‹ˆë‹¤. íŠ¹íˆ 50ê°œ ì´ìƒì˜ íŒŒì¼ì„ ìˆ˜ì •í•´ì•¼ í•˜ëŠ” ì‘ì—…ì—ì„œ íš¨ê³¼ê°€ ê·¹ëŒ€í™”ë©ë‹ˆë‹¤.

#### 1.3 PreTools Hookì„ í™œìš©í•œ ìë™í™” ì›Œí¬í”Œë¡œìš°

PreTools Hookì€ Claude Codeê°€ íŠ¹ì • ë„êµ¬ë¥¼ ì‹¤í–‰í•˜ê¸° ì§ì „ì— ì»¤ìŠ¤í…€ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ê°•ë ¥í•œ ê¸°ëŠ¥ì…ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ê³„íšì„œì˜ ìë™ ì•„ì¹´ì´ë¹™, ë‹¤ë¥¸ ì—ì´ì „íŠ¸ì™€ì˜ í˜‘ì—…, ì»¨í…ìŠ¤íŠ¸ ì£¼ì… ë“±ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

**ì‹œë‚˜ë¦¬ì˜¤ 1: ê³„íšì„œ ìë™ ì•„ì¹´ì´ë¹™**

ê³„íšì´ ì™„ë£Œë˜ë©´ ìë™ìœ¼ë¡œ ë‚ ì§œë³„ í´ë”ì— ë°±ì—…í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸:

```bash
#!/bin/bash
# ~/.claude/hooks/archive-plan.sh

PLAN_FILE="$1"
ARCHIVE_DIR="$HOME/claude-archives/$(date +%Y-%m)"

mkdir -p "$ARCHIVE_DIR"
cp "$PLAN_FILE" "$ARCHIVE_DIR/$(basename "$PLAN_FILE")"

echo "ê³„íšì„œê°€ $ARCHIVE_DIR ì— ì•„ì¹´ì´ë¹™ë˜ì—ˆìŠµë‹ˆë‹¤"
```

`settings.json`ì— Hook ë“±ë¡:

```json
{
  "hooks": {
    "prePlanApproval": {
      "command": "~/.claude/hooks/archive-plan.sh",
      "args": ["${planFile}"]
    }
  }
}
```

**ì‹œë‚˜ë¦¬ì˜¤ 2: Antigravity ì—ì´ì „íŠ¸ì™€ì˜ í˜‘ì—…**

Claude Codeê°€ ê³„íšì„ ì„¸ìš°ë©´ ìë™ìœ¼ë¡œ Antigravityì˜ Gemini ì—ì´ì „íŠ¸ì—ê²Œ ì „ë‹¬í•˜ì—¬ ë³´ì•ˆ ê²€í† ë¥¼ ë°›ëŠ” ì›Œí¬í”Œë¡œìš°:

```python
#!/usr/bin/env python3
# ~/.claude/hooks/review-with-gemini.py

import sys
import subprocess
import json

plan_file = sys.argv[1]

# Antigravity CLIë¥¼ í†µí•´ Geminiì—ê²Œ ê²€í†  ìš”ì²­
review_prompt = f"""
ë‹¤ìŒ êµ¬í˜„ ê³„íšì„ ë³´ì•ˆ ê´€ì ì—ì„œ ê²€í† í•´ì£¼ì„¸ìš”:
- ì¸ì¦/ì¸ê°€ ê´€ë ¨ ì·¨ì•½ì 
- ë°ì´í„° ê²€ì¦ ëˆ„ë½
- ì ì¬ì  injection ê³µê²© í¬ì¸íŠ¸

ê³„íšì„œ: {open(plan_file).read()}
"""

result = subprocess.run(
    ['agy', 'chat', '--model', 'gemini-3-pro', '--prompt', review_prompt],
    capture_output=True,
    text=True
)

# ê²€í†  ê²°ê³¼ë¥¼ Claudeì—ê²Œ ì „ë‹¬í•  ì¶”ê°€ ì»¨í…ìŠ¤íŠ¸ë¡œ ë°˜í™˜
additional_context = f"""
Gemini ë³´ì•ˆ ê²€í†  ê²°ê³¼:
{result.stdout}

ì´ í”¼ë“œë°±ì„ ë°˜ì˜í•˜ì—¬ êµ¬í˜„ì„ ì§„í–‰í•˜ì„¸ìš”.
"""

print(json.dumps({"additionalContext": additional_context}))
```

Hook ë“±ë¡:

```json
{
  "hooks": {
    "prePlanApproval": {
      "command": "python3",
      "args": ["~/.claude/hooks/review-with-gemini.py", "${planFile}"],
      "injectContext": true
    }
  }
}
```

ì´ë ‡ê²Œ ì„¤ì •í•˜ë©´ Claude Codeê°€ ê³„íšì„ ì„¸ìš°ê³  â†’ Geminiê°€ ë³´ì•ˆ ê²€í† ë¥¼ í•˜ê³  â†’ ê·¸ ê²°ê³¼ë¥¼ Claudeê°€ ë°˜ì˜í•˜ì—¬ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ì™„ì „ ìë™í™”ëœ ì›Œí¬í”Œë¡œìš°ê°€ ì™„ì„±ë©ë‹ˆë‹¤.

### 2. MCP ë„êµ¬ ê²€ìƒ‰ ìë™í™”: í† í° íš¨ìœ¨ì„± ê·¹ëŒ€í™”

#### 2.1 ë¬¸ì œ ìƒí™©

MCP(Model Context Protocol) ì„œë²„ë¥¼ 5ê°œ ì´ìƒ ì—°ê²°í•˜ë©´, ê° ì„œë²„ì˜ ë„êµ¬ ì„¤ëª…ë§Œìœ¼ë¡œë„ ì»¨í…ìŠ¤íŠ¸ ìœˆë„ìš°ì˜ 10~15%ë¥¼ ì°¨ì§€í•˜ê²Œ ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´:

- GitHub MCP: 17ê°œ ë„êµ¬ (ì•½ 8,000 í† í°)
- PostgreSQL MCP: 12ê°œ ë„êµ¬ (ì•½ 6,000 í† í°)
- Slack MCP: 23ê°œ ë„êµ¬ (ì•½ 11,000 í† í°)
- AWS S3 MCP: 14ê°œ ë„êµ¬ (ì•½ 7,000 í† í°)
- Stripe MCP: 19ê°œ ë„êµ¬ (ì•½ 9,000 í† í°)

**ì´í•©: 41,000 í† í°** - ì»¨í…ìŠ¤íŠ¸ì˜ 20% ì´ìƒ!

#### 2.2 ìë™ MCP ë„êµ¬ ê²€ìƒ‰ ì†”ë£¨ì…˜

Claude Code 2.1ì€ ë„êµ¬ ì„¤ëª…ì´ ì „ì²´ ì»¨í…ìŠ¤íŠ¸ì˜ íŠ¹ì • ë¹„ìœ¨(ê¸°ë³¸ê°’ 10%)ì„ ì´ˆê³¼í•˜ë©´ ìë™ìœ¼ë¡œ `mcp_tool_search`ë¼ëŠ” ë©”íƒ€ ë„êµ¬ë§Œ í™œì„±í™”í•©ë‹ˆë‹¤. ì´ ë„êµ¬ëŠ” í•„ìš”í•  ë•Œë§Œ ê´€ë ¨ MCP ë„êµ¬ë¥¼ ê²€ìƒ‰í•˜ì—¬ ê°€ì ¸ì˜µë‹ˆë‹¤.

**ì‘ë™ ì›ë¦¬:**

1. ì‚¬ìš©ì: "GitHubì—ì„œ issue #123ì„ ë‹«ì•„ì¤˜"
2. Claude: `mcp_tool_search("github issue management")`ë¥¼ í˜¸ì¶œ
3. ì‹œìŠ¤í…œ: GitHub MCPì˜ `close_issue` ë„êµ¬ë§Œ ì»¨í…ìŠ¤íŠ¸ì— ë¡œë“œ
4. Claude: ì‹¤ì œ `close_issue` ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‘ì—… ìˆ˜í–‰

**ì„¤ì • ë°©ë²•:**

```json
{
  "mcpToolSearch": {
    "enabled": "auto",
    "threshold": "10%",
    "strategy": "semantic"
  }
}
```

ì„ê³„ê°’ì„ ë” ë‚®ì¶”ë ¤ë©´:

```json
{
  "mcpToolSearch": {
    "enabled": "auto",
    "threshold": "5%"
  }
}
```

ë˜ëŠ” í™˜ê²½ ë³€ìˆ˜ë¡œ:

```bash
export CLAUDE_MCP_TOOL_SEARCH_THRESHOLD=5
export ENABLE_TOOL_SEARCH=true
```

**ì‹¤ì „ íš¨ê³¼:**

10ê°œì˜ MCP ì„œë²„ë¥¼ ì—°ê²°í•œ í”„ë¡œì íŠ¸ì—ì„œ ì´ ê¸°ëŠ¥ì„ í™œì„±í™”í•œ ê²°ê³¼, í‰ê·  ì»¨í…ìŠ¤íŠ¸ ì‚¬ìš©ëŸ‰ì´ **74,000 í† í°ì—ì„œ 31,000 í† í°ìœ¼ë¡œ ê°ì†Œ**í–ˆìŠµë‹ˆë‹¤(58% ì ˆê°). ì´ëŠ” ë” ê¸´ ëŒ€í™”ì™€ ë” ë³µì¡í•œ ì‘ì—…ì´ ê°€ëŠ¥í•´ì§ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

### 3. ì´ˆê¸°í™” ë° ìœ ì§€ë³´ìˆ˜ ëª¨ë“œ: í”„ë¡œì íŠ¸ ìƒëª…ì£¼ê¸° ìë™í™”

#### 3.1 Init ëª¨ë“œ: ì‹ ê·œ ê°œë°œì ì˜¨ë³´ë”© ìë™í™”

`claude --init` ëª…ë ¹ì€ ìƒˆë¡œìš´ íŒ€ì›ì´ í”„ë¡œì íŠ¸ì— í•©ë¥˜í–ˆì„ ë•Œ í•„ìš”í•œ ëª¨ë“  ì„¤ì •ì„ ìë™ìœ¼ë¡œ ìˆ˜í–‰í•©ë‹ˆë‹¤.

**ì „í†µì ì¸ ì˜¨ë³´ë”© í”„ë¡œì„¸ìŠ¤:**
1. README ì½ê¸° (15ë¶„)
2. Node.js, Python, Docker ë“± ì„¤ì¹˜ (30ë¶„)
3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (10ë¶„)
4. ë°ì´í„°ë² ì´ìŠ¤ ì‹œë“œ ë°ì´í„° ë¡œë“œ (20ë¶„)
5. ì²« ë¹Œë“œ ì‹œë„ ë° ì˜¤ë¥˜ í•´ê²° (60ë¶„)
**ì´ ì†Œìš” ì‹œê°„: ì•½ 2ì‹œê°„ 15ë¶„**

**Claude Code Init ëª¨ë“œ:**
```bash
claude --init
```
**ì´ ì†Œìš” ì‹œê°„: ì•½ 8ë¶„**

**ì„¤ì • ì˜ˆì œ:**

`.claude/init.sh`:

```bash
#!/bin/bash

echo "ğŸš€ í”„ë¡œì íŠ¸ ì´ˆê¸°í™”ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤..."

# 1. í•„ìˆ˜ ë„êµ¬ ë²„ì „ í™•ì¸
required_node_version="18.0.0"
current_node=$(node -v | cut -d'v' -f2)

if ! command -v node &> /dev/null; then
    echo "âŒ Node.jsê°€ ì„¤ì¹˜ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤."
    echo "   nvm install 18 ëª…ë ¹ìœ¼ë¡œ ì„¤ì¹˜í•˜ì„¸ìš”."
    exit 1
fi

# 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
if [ ! -f .env ]; then
    echo "ğŸ“ .env íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤..."
    cp .env.example .env
    echo "   .env íŒŒì¼ì„ ì—´ì–´ API í‚¤ë¥¼ ì„¤ì •í•˜ì„¸ìš”."
fi

# 3. ì˜ì¡´ì„± ì„¤ì¹˜
echo "ğŸ“¦ npm íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤..."
npm install

# 4. ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™”
echo "ğŸ—„ï¸  PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤..."
docker-compose up -d postgres
sleep 5
npm run db:migrate
npm run db:seed

# 5. ê°œë°œ ì„œë²„ ì‹¤í–‰ í…ŒìŠ¤íŠ¸
echo "ğŸ§ª ê°œë°œ ì„œë²„ë¥¼ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤..."
timeout 10 npm run dev &
sleep 8
if curl -s http://localhost:3000/health | grep -q "ok"; then
    echo "âœ… ì„œë²„ê°€ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ì—ˆìŠµë‹ˆë‹¤!"
else
    echo "âš ï¸  ì„œë²„ ì‹¤í–‰ í™•ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë¡œê·¸ë¥¼ í™•ì¸í•˜ì„¸ìš”."
fi

pkill -f "npm run dev"

echo "ğŸ‰ ì´ˆê¸°í™”ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!"
echo "   npm run dev ëª…ë ¹ìœ¼ë¡œ ê°œë°œì„ ì‹œì‘í•˜ì„¸ìš”."
```

ì´ ìŠ¤í¬ë¦½íŠ¸ë¥¼ Claude Codeì˜ init hookìœ¼ë¡œ ë“±ë¡:

```json
{
  "hooks": {
    "init": {
      "command": "bash",
      "args": [".claude/init.sh"]
    }
  }
}
```

#### 3.2 Maintenance ëª¨ë“œ: ì£¼ê¸°ì  í’ˆì§ˆ ê´€ë¦¬ ìë™í™”

`claude --maintenance` ëª…ë ¹ì€ ì½”ë“œ í’ˆì§ˆì„ ìœ ì§€í•˜ê¸° ìœ„í•œ ë£¨í‹´ ì‘ì—…ë“¤ì„ ìë™í™”í•©ë‹ˆë‹¤.

**.claude/maintenance.sh:**

```bash
#!/bin/bash

echo "ğŸ”§ ìœ ì§€ë³´ìˆ˜ ì‘ì—…ì„ ì‹œì‘í•©ë‹ˆë‹¤..."

# 1. ì½”ë“œ í¬ë§·íŒ…
echo "âœ¨ Prettierë¡œ ì½”ë“œë¥¼ í¬ë§·íŒ…í•©ë‹ˆë‹¤..."
npx prettier --write "src/**/*.{js,jsx,ts,tsx,json,css,md}"

# 2. ESLint ìë™ ìˆ˜ì •
echo "ğŸ” ESLintë¡œ ì½”ë“œë¥¼ ê²€ì‚¬í•˜ê³  ìë™ ìˆ˜ì •í•©ë‹ˆë‹¤..."
npx eslint "src/**/*.{js,jsx,ts,tsx}" --fix

# 3. ì˜ì¡´ì„± ë³´ì•ˆ ê°ì‚¬
echo "ğŸ”’ npm auditë¡œ ë³´ì•ˆ ì·¨ì•½ì ì„ ê²€ì‚¬í•©ë‹ˆë‹¤..."
npm audit --audit-level=moderate

# 4. ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì˜ì¡´ì„± ì œê±°
echo "ğŸ§¹ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” íŒ¨í‚¤ì§€ë¥¼ ì°¾ìŠµë‹ˆë‹¤..."
npx depcheck

# 5. ë¬¸ì„œ ì—…ë°ì´íŠ¸
echo "ğŸ“š JSDoc ì£¼ì„ì„ ê²€ì¦í•©ë‹ˆë‹¤..."
npx documentation lint src/**/*.js

# 6. íƒ€ì… ì²´í¬ (TypeScript í”„ë¡œì íŠ¸ì˜ ê²½ìš°)
echo "ğŸ¯ TypeScript íƒ€ì…ì„ ì²´í¬í•©ë‹ˆë‹¤..."
npx tsc --noEmit

# 7. í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ í™•ì¸
echo "ğŸ§ª í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ë¥¼ í™•ì¸í•©ë‹ˆë‹¤..."
npm run test:coverage

coverage=$(grep -oP 'All files.*?\|\s+\K[\d.]+' coverage/lcov-report/index.html | head -1)
if (( $(echo "$coverage < 80" | bc -l) )); then
    echo "âš ï¸  í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ê°€ 80% ë¯¸ë§Œì…ë‹ˆë‹¤ (í˜„ì¬: ${coverage}%)"
fi

echo "âœ… ìœ ì§€ë³´ìˆ˜ ì‘ì—…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!"
```

Hook ë“±ë¡:

```json
{
  "hooks": {
    "maintenance": {
      "command": "bash",
      "args": [".claude/maintenance.sh"],
      "schedule": "0 2 * * 0"  // ë§¤ì£¼ ì¼ìš”ì¼ ìƒˆë²½ 2ì‹œ
    }
  }
}
```

### 4. UI/UX ê°œì„ : ìƒì‚°ì„± í–¥ìƒì„ ìœ„í•œ ë¯¸ì„¸ ì¡°ì •

#### 4.1 ìŠ¹ì¸ ì‹œ ì¶”ê°€ ì§€ì¹¨ ì „ë‹¬ (Tab í‚¤)

Claude Codeê°€ ì‘ì—… ìŠ¹ì¸ì„ ìš”ì²­í•  ë•Œ, ë‹¨ìˆœíˆ "Yes"ë§Œ í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì¶”ê°€ ì§€ì¹¨ì„ í•¨ê»˜ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ì‹œë‚˜ë¦¬ì˜¤:**

Claude: "Git ë¸Œëœì¹˜ë¥¼ ìƒì„±í•˜ê³  ë³€ê²½ì‚¬í•­ì„ ì»¤ë°‹í•˜ê² ìŠµë‹ˆë‹¤. ìŠ¹ì¸í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (y/n)"

**ê¸°ì¡´ ë°©ì‹:**
```
y [Enter]
```

**ìƒˆë¡œìš´ ë°©ì‹:**
```
y [Tab]
ë¸Œëœì¹˜ ì´ë¦„ì€ feature/user-authë¡œ í•˜ê³ , ì»¤ë°‹ ë©”ì‹œì§€ëŠ” conventional commits í˜•ì‹ì„ ë”°ë¼ì£¼ì„¸ìš” [Enter]
```

Claudeê°€ ì´ ì¶”ê°€ ì§€ì¹¨ì„ ë°˜ì˜í•˜ì—¬ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤:
```bash
git checkout -b feature/user-auth
git commit -m "feat(auth): implement OAuth2 authentication flow"
```

#### 4.2 Diff View: ë³€ê²½ì‚¬í•­ ì‹œê°ì  ê²€í† 

ì›¹ ì¸í„°í˜ì´ìŠ¤ì™€ VS Code í™•ì¥ì—ì„œ ì½”ë“œ ë³€ê²½ì‚¬í•­ì„ GitHub PR ìŠ¤íƒ€ì¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

- ì‚­ì œëœ ë¼ì¸: ë¹¨ê°„ìƒ‰ ë°°ê²½
- ì¶”ê°€ëœ ë¼ì¸: ì´ˆë¡ìƒ‰ ë°°ê²½
- ë¼ì¸ë³„ ì½”ë©˜íŠ¸ ê°€ëŠ¥
- Side-by-side ë¹„êµ ëª¨ë“œ

**í™œìš©ë²•:**

ëŒ€ê·œëª¨ ë¦¬íŒ©í† ë§ í›„:
```bash
claude diff --review
```

ë¸Œë¼ìš°ì €ì—ì„œ diff ë·°ê°€ ì—´ë¦¬ê³ , ê° ë³€ê²½ì‚¬í•­ì— ëŒ€í•´ ì½”ë©˜íŠ¸ë¥¼ ë‚¨ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì½”ë©˜íŠ¸ë¥¼ ì €ì¥í•˜ë©´ Claudeê°€ ì´ë¥¼ ë°˜ì˜í•˜ì—¬ ì½”ë“œë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤.

#### 4.3 ìƒíƒœ í‘œì‹œì¤„: ì‹¤ì‹œê°„ ë¦¬ì†ŒìŠ¤ ëª¨ë‹ˆí„°ë§

í„°ë¯¸ë„ í•˜ë‹¨ì˜ ìƒíƒœ í‘œì‹œì¤„ì´ ê°•í™”ë˜ì–´ ë‹¤ìŒ ì •ë³´ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ í‘œì‹œí•©ë‹ˆë‹¤:

```
Claude Code | Model: Opus 4.5 | Context: 45.2K/200K (22%) | MCP: 5 servers | Git: main âœ“
```

**ì»¤ìŠ¤í„°ë§ˆì´ì§•:**

```json
{
  "statusBar": {
    "show": true,
    "format": "{model} | Ctx: {context}/{contextLimit} ({contextPercent}%) | Branch: {gitBranch}",
    "updateInterval": 2000
  }
}
```

ì»¨í…ìŠ¤íŠ¸ ì‚¬ìš©ëŸ‰ì´ 80%ë¥¼ ì´ˆê³¼í•˜ë©´ ê²½ê³  ìƒ‰ìƒìœ¼ë¡œ ë³€ê²½ë˜ì–´ ì‹œê°ì ìœ¼ë¡œ ì•Œë ¤ì¤ë‹ˆë‹¤.

---

## Google Antigravity ì™„ì „ ë¶„ì„

### 1. Antigravityë€ ë¬´ì—‡ì¸ê°€?

Google AntigravityëŠ” 2025ë…„ 11ì›” 18ì¼ Gemini 3 ëª¨ë¸ íŒ¨ë°€ë¦¬ì™€ í•¨ê»˜ ì¶œì‹œëœ "ì—ì´ì „íŠ¸ ìš°ì„ (Agent-First)" ê°œë°œ í”Œë«í¼ì…ë‹ˆë‹¤. ì „í†µì ì¸ IDEê°€ ì¸ê°„ ê°œë°œìê°€ ì½”ë“œë¥¼ íƒ€ì´í•‘í•˜ëŠ” ê²ƒì„ ë•ëŠ” ë„êµ¬ì˜€ë‹¤ë©´, AntigravityëŠ” AI ì—ì´ì „íŠ¸ê°€ ì£¼ì²´ê°€ ë˜ì–´ ê°œë°œí•˜ê³  ì¸ê°„ì€ ì´ë¥¼ ì§€íœ˜í•˜ëŠ” íŒ¨ëŸ¬ë‹¤ì„ìœ¼ë¡œì˜ ì „í™˜ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

**í•µì‹¬ ì² í•™:**

"ì¤‘ë ¥(Gravity)"ì€ ê°œë°œìê°€ ê²ªëŠ” ë¬´ê±°ìš´ ì‘ì—…ë“¤ì„ ì˜ë¯¸í•©ë‹ˆë‹¤:
- í™˜ê²½ ì„¤ì •
- ë°˜ë³µì ì¸ ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ì‘ì„±
- ë””ë²„ê¹…
- í„°ë¯¸ë„, ë¸Œë¼ìš°ì €, ì—ë””í„° ê°„ ì „í™˜

"ë°˜ì¤‘ë ¥(Antigravity)"ì€ ì´ëŸ¬í•œ ë¬´ê²Œì—ì„œ ë²—ì–´ë‚˜ ë†’ì€ ë ˆë²¨ì˜ ì‚¬ê³ ì— ì§‘ì¤‘í•  ìˆ˜ ìˆê²Œ í•œë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤. ê°œë°œìëŠ” "ë¬´ì—‡ì„ ë§Œë“¤ ê²ƒì¸ê°€"ì—ë§Œ ì§‘ì¤‘í•˜ê³ , "ì–´ë–»ê²Œ ë§Œë“¤ ê²ƒì¸ê°€"ëŠ” AI ì—ì´ì „íŠ¸ì—ê²Œ ìœ„ì„í•©ë‹ˆë‹¤.

### 2. ì•„í‚¤í…ì²˜: 3ê°œì˜ Surface

AntigravityëŠ” ì‘ì—…ì´ ì¼ì–´ë‚˜ëŠ” 3ê°œì˜ "í‘œë©´(Surface)"ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤:

#### 2.1 Editor Surface

VS Codeë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ ì „í†µì ì¸ ì½”ë“œ ì—ë””í„°ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ë‹¨ìˆœí•œ í¬í¬ê°€ ì•„ë‹ˆë¼ AI í˜‘ì—…ì„ ìœ„í•´ ì¬ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.

**ì£¼ìš” ê¸°ëŠ¥:**
- **AI Inline Suggestions**: GitHub Copilotê³¼ ìœ ì‚¬í•˜ì§€ë§Œ Gemini 3ì˜ ë©€í‹°ëª¨ë‹¬ ì´í•´ë ¥ í™œìš©
- **Context-Aware Autocomplete**: í˜„ì¬ íŒŒì¼ë¿ ì•„ë‹ˆë¼ ì „ì²´ í”„ë¡œì íŠ¸ êµ¬ì¡°ë¥¼ ì´í•´
- **Collaborative Editing**: ì—ì´ì „íŠ¸ì™€ ì¸ê°„ì´ ë™ì‹œì— ê°™ì€ íŒŒì¼ì„ í¸ì§‘ ê°€ëŠ¥

**íŠ¹ë³„í•œ ì :**

ì—ì´ì „íŠ¸ê°€ ì½”ë“œë¥¼ ì‘ì„±í•  ë•Œ, ì‹¤ì‹œê°„ìœ¼ë¡œ diffê°€ í‘œì‹œë˜ê³  ê° ë³€ê²½ì‚¬í•­ì— Google Docs ìŠ¤íƒ€ì¼ì˜ ì½”ë©˜íŠ¸ë¥¼ ë‹¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´:

```javascript
// Agentê°€ ì‘ì„±í•œ ì½”ë“œ
function authenticateUser(email, password) {
  const user = db.query("SELECT * FROM users WHERE email = ?", [email]);
  return bcrypt.compare(password, user.passwordHash);
}
```

ì—¬ê¸°ì— ì½”ë©˜íŠ¸ë¥¼ ë‹¬ë©´:
> "SQL injection ì·¨ì•½ì ì´ ìˆìŠµë‹ˆë‹¤. Prepared statementë¥¼ ì‚¬ìš©í•˜ì„¸ìš”."

ì—ì´ì „íŠ¸ê°€ ì´ë¥¼ ë°˜ì˜í•˜ì—¬ ìë™ìœ¼ë¡œ ìˆ˜ì •:

```javascript
function authenticateUser(email, password) {
  const user = db.prepare("SELECT * FROM users WHERE email = ?").get(email);
  if (!user) return false;
  return bcrypt.compare(password, user.passwordHash);
}
```

#### 2.2 Manager Surface (í•µì‹¬ í˜ì‹ )

ì „í†µì ì¸ IDEëŠ” ì—ë””í„°ê°€ ì¤‘ì‹¬ì´ê³  AIê°€ ì‚¬ì´ë“œë°”ì— ìˆì—ˆìŠµë‹ˆë‹¤. AntigravityëŠ” ì´ë¥¼ ë’¤ì§‘ì–´, **ì—ì´ì „íŠ¸ ê´€ë¦¬ê°€ ì¤‘ì‹¬**ì´ ë˜ê³  ì—ë””í„°ê°€ ì—ì´ì „íŠ¸ì˜ ì‘ì—… ê³µê°„ì´ ë©ë‹ˆë‹¤.

**Manager Surfaceì˜ êµ¬ì„± ìš”ì†Œ:**

**1) Agent Roster**
í˜„ì¬ í™œì„±í™”ëœ ì—ì´ì „íŠ¸ë“¤ì˜ ëª©ë¡:
- Frontend Builder Agent (Gemini 3 Flash)
- Backend API Agent (Claude Sonnet 4.5)
- Security Auditor Agent (Gemini 3 Pro)
- Test Automation Agent (Gemini 3 Flash)

ê° ì—ì´ì „íŠ¸ëŠ” ë…ë¦½ì ì¸ ì»¨í…ìŠ¤íŠ¸ì™€ ë©”ëª¨ë¦¬ë¥¼ ê°€ì§€ë©°, ì„œë¡œ í†µì‹ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**2) Task Queue**
ì—ì´ì „íŠ¸ì—ê²Œ í• ë‹¹ëœ ì‘ì—…ë“¤:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Task #42: Implement OAuth2 Login                        â”‚
â”‚ Agent: Backend API Agent                                â”‚
â”‚ Status: In Progress (Step 3/7)                          â”‚
â”‚ â”œâ”€ Create user model                      âœ“             â”‚
â”‚ â”œâ”€ Set up Passport.js                     âœ“             â”‚
â”‚ â”œâ”€ Configure Google OAuth strategy        â†’ (í˜„ì¬)      â”‚
â”‚ â”œâ”€ Create auth routes                                   â”‚
â”‚ â”œâ”€ Add session management                               â”‚
â”‚ â”œâ”€ Implement token refresh                              â”‚
â”‚ â””â”€ Write integration tests                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**3) Artifacts Panel**
ì—ì´ì „íŠ¸ê°€ ìƒì„±í•œ ì‚°ì¶œë¬¼ë“¤:
- ğŸ“‹ Implementation Plans (ë§ˆí¬ë‹¤ìš´)
- ğŸ“Š Architecture Diagrams (Mermaid)
- ğŸ–¼ï¸ UI Mockups (Figma/HTML)
- ğŸ“¸ Screenshots (í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ê²°ê³¼)
- ğŸ“¹ Browser Recordings (E2E í…ŒìŠ¤íŠ¸ ê³¼ì •)

**ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œ:**

```
ì‚¬ìš©ì: "ì‚¬ìš©ì ì¸ì¦ ì‹œìŠ¤í…œì„ OAuth2ë¡œ ì—…ê·¸ë ˆì´ë“œí•´ì¤˜. Googleê³¼ GitHub ë¡œê·¸ì¸ì„ ì§€ì›í•´ì•¼ í•´."

Antigravity Manager:
â”Œâ”€ Planning Phase â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Gemini 3 Proê°€ ê³„íšì„ ìˆ˜ë¦½ ì¤‘...                         â”‚
â”‚                                                           â”‚
â”‚ ë¶„ì„ ì™„ë£Œ:                                                â”‚
â”‚ - í˜„ì¬ ì‹œìŠ¤í…œ: JWT ê¸°ë°˜ ë¡œì»¬ ì¸ì¦                         â”‚
â”‚ - í•„ìš”í•œ ë³€ê²½: Passport.js í†µí•©, OAuth2 ì „ëµ ì¶”ê°€        â”‚
â”‚ - ì˜í–¥ë°›ëŠ” íŒŒì¼: 12ê°œ                                    â”‚
â”‚ - ì˜ˆìƒ ì†Œìš” ì‹œê°„: 45ë¶„                                    â”‚
â”‚                                                           â”‚
â”‚ [ê³„íšì„œ ë³´ê¸°] [ìŠ¹ì¸] [ìˆ˜ì • ìš”ì²­]                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[ìŠ¹ì¸ í´ë¦­]

â”Œâ”€ Execution Phase â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Task #43: OAuth2 Integration                             â”‚
â”‚                                                           â”‚
â”‚ Agent: Backend API Agent (Claude Sonnet 4.5)             â”‚
â”‚ â””â”€ Installing passport, passport-google-oauth20...  âœ“    â”‚
â”‚ â””â”€ Configuring OAuth strategies...                  â†’    â”‚
â”‚                                                           â”‚
â”‚ Agent: Frontend Builder Agent (Gemini 3 Flash)           â”‚
â”‚ â””â”€ Creating Google login button component...        â¸    â”‚
â”‚                                                           â”‚
â”‚ Agent: Test Automation Agent                             â”‚
â”‚ â””â”€ Waiting for code completion...                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.3 Browser Surface (í˜ì‹ ì  í†µí•©)

Antigravityì—ëŠ” Chromium ê¸°ë°˜ ë¸Œë¼ìš°ì €ê°€ ë‚´ì¥ë˜ì–´ ìˆì–´, ì—ì´ì „íŠ¸ê°€ ì§ì ‘ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ìƒí˜¸ì‘ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ê°€ëŠ¥í•œ ì‘ì—…:**

1. **ìë™ E2E í…ŒìŠ¤íŠ¸**
   ```
   ì—ì´ì „íŠ¸: "ë¡œê·¸ì¸ í”Œë¡œìš°ë¥¼ í…ŒìŠ¤íŠ¸í•˜ê² ìŠµë‹ˆë‹¤."
   
   Browser Agent:
   1. http://localhost:3000 ì ‘ì†
   2. ì´ë©”ì¼ ì…ë ¥: test@example.com
   3. ë¹„ë°€ë²ˆí˜¸ ì…ë ¥: â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢
   4. "ë¡œê·¸ì¸" ë²„íŠ¼ í´ë¦­
   5. ëŒ€ì‹œë³´ë“œë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ í™•ì¸
   6. ì‚¬ìš©ì ì´ë¦„ í‘œì‹œ í™•ì¸: "Test User"
   
   ê²°ê³¼: âœ“ í†µê³¼ (2.3ì´ˆ)
   ìŠ¤í¬ë¦°ìƒ·: [dashboard-after-login.png]
   ```

2. **ì‹œê°ì  íšŒê·€ í…ŒìŠ¤íŠ¸**
   ë°°í¬ ì „ì— UIê°€ ê¹¨ì§€ì§€ ì•Šì•˜ëŠ”ì§€ ìë™ìœ¼ë¡œ í™•ì¸:
   
   ```
   Before:         After:          Diff:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Login   â”‚    â”‚ Login   â”‚    â”‚         â”‚
   â”‚ [Email] â”‚ vs â”‚ [Email] â”‚ =  â”‚ 0.2%    â”‚
   â”‚ [Pass]  â”‚    â”‚ [Pass]  â”‚    â”‚ change  â”‚
   â”‚ [Submit]â”‚    â”‚ [Submit]â”‚    â”‚         â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   ```

3. **API ë™ì‘ ê²€ì¦**
   ë¸Œë¼ìš°ì € DevToolsë¥¼ í†µí•´ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì„ ëª¨ë‹ˆí„°ë§í•˜ê³  ê²€ì¦:
   
   ```
   Network Log:
   âœ“ POST /api/auth/login â†’ 200 (345ms)
     Request: {"email": "...", "password": "..."}
     Response: {"token": "eyJ...", "user": {...}}
   
   âœ“ GET /api/user/profile â†’ 200 (89ms)
     Headers: Authorization: Bearer eyJ...
     Response: {"id": 123, "name": "Test User"}
   ```

### 3. ëª¨ë¸ ì„ íƒì˜ ìœ ì—°ì„±

Antigravityì˜ ê°•ì  ì¤‘ í•˜ë‚˜ëŠ” ë‹¨ì¼ ëª¨ë¸ì— ì¢…ì†ë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì ì…ë‹ˆë‹¤.

**ì§€ì› ëª¨ë¸:**

| ëª¨ë¸ | ê°•ì  | ì í•©í•œ ì‘ì—… | ë¹„ìš© |
|------|------|-------------|------|
| Gemini 3 Pro | ë³µì¡í•œ ì¶”ë¡ , ì¥ê¸° ê³„íš | ì•„í‚¤í…ì²˜ ì„¤ê³„, ë¦¬íŒ©í† ë§ | ì¤‘ê°„ |
| Gemini 3 Flash | ë¹ ë¥¸ ì‘ë‹µ, ë³‘ë ¬ ì²˜ë¦¬ | UI ì»´í¬ë„ŒíŠ¸, CRUD API | ì €ë ´ |
| Gemini 3 Deep Think | ìˆ˜í•™ì  ì¶”ë¡ , ìµœì í™” | ì•Œê³ ë¦¬ì¦˜, ì„±ëŠ¥ íŠœë‹ | ë¹„ìŒˆ |
| Claude Opus 4.5 | ì½”ë“œ í’ˆì§ˆ, ì •í™•ì„± | í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ | ë¹„ìŒˆ |
| Claude Sonnet 4.5 | ê· í˜•ì¡íŒ ì„±ëŠ¥ | ì¼ë°˜ì ì¸ ê°œë°œ ì‘ì—… | ì¤‘ê°„ |
| GPT-OSS-120B | ì˜¤í”ˆì†ŒìŠ¤, ì»¤ìŠ¤í„°ë§ˆì´ì§• | íŠ¹í™”ëœ ë„ë©”ì¸ ì‘ì—… | ë¬´ë£Œ |

**ì „ëµì  ëª¨ë¸ ì„ íƒ ì˜ˆì‹œ:**

í”„ë¡œì íŠ¸: E-Commerce í”Œë«í¼

```
ê¸°íš ë‹¨ê³„:
- Gemini 3 Proë¡œ ì „ì²´ ì•„í‚¤í…ì²˜ ì„¤ê³„
- ì˜ˆìƒ ë¹„ìš©: $0.20

êµ¬í˜„ ë‹¨ê³„:
- ìƒí’ˆ ëª©ë¡ UI: Gemini 3 Flash ($0.05)
- ê²°ì œ ì‹œìŠ¤í…œ: Claude Opus 4.5 ($0.40)
- ì¥ë°”êµ¬ë‹ˆ ë¡œì§: Claude Sonnet 4.5 ($0.15)
- ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜: Gemini 3 Deep Think ($0.60)

í…ŒìŠ¤íŠ¸ ë‹¨ê³„:
- E2E í…ŒìŠ¤íŠ¸: Gemini 3 Flash ($0.10)

ì´ ë¹„ìš©: $1.50 (ì „í†µì  ê°œë°œ ëŒ€ë¹„ ì‹œê°„ ì ˆê°: ì•½ 8ì‹œê°„ â†’ $120 ì¸ê±´ë¹„ ì ˆê°)
```

### 4. ê°€ê²© ì •ì±… ë° ì¿¼í„°

**ë¬´ë£Œ í‹°ì–´ (Public Preview, 2026ë…„ 1ì›” í˜„ì¬):**
- Gemini 3 Pro: ì›” 1,500 ìš”ì²­
- Gemini 3 Flash: ì›” 15,000 ìš”ì²­
- Claude Sonnet 4.5: ì›” 300 ìš”ì²­
- í”„ë¡œì íŠ¸ í¬ê¸° ì œí•œ: ì—†ìŒ
- ë™ì‹œ ì—ì´ì „íŠ¸: ìµœëŒ€ 3ê°œ

**ì˜ˆìƒ ìœ ë£Œ í”Œëœ (ê³µì‹ ë°œí‘œ ëŒ€ê¸° ì¤‘):**
- Pro: $20/ì›” - Gemini 3 Pro ë¬´ì œí•œ, Claude 1,000 ìš”ì²­
- Team: $50/ì›”/user - ëª¨ë“  ëª¨ë¸ ë¬´ì œí•œ, í˜‘ì—… ê¸°ëŠ¥
- Enterprise: ë§ì¶¤ ê°€ê²© - ì „ìš© ì¸í”„ë¼, SLA ë³´ì¥

---

## Claude Code + Antigravity í†µí•© ì›Œí¬í”Œë¡œìš°

ì´ì œ í•µì‹¬ ë¶€ë¶„ì…ë‹ˆë‹¤. ë‘ ë„êµ¬ë¥¼ ì–´ë–»ê²Œ ì¡°í•©í•˜ì—¬ ìµœëŒ€ì˜ ì‹œë„ˆì§€ë¥¼ ë‚¼ ìˆ˜ ìˆì„ê¹Œìš”?

### 1. ê¸°ë³¸ í†µí•© ë°©ë²•

#### ë°©ë²• 1: Antigravity ë‚´ë¶€ì—ì„œ Claude Code ì‹¤í–‰ (ê¶Œì¥)

AntigravityëŠ” VS Code í¬í¬ì´ë¯€ë¡œ í„°ë¯¸ë„ì´ ë‚´ì¥ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì´ í„°ë¯¸ë„ì—ì„œ Claude Codeë¥¼ ì§ì ‘ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ì„¤ì • ë‹¨ê³„:**

1. **Claude Code ì„¤ì¹˜**
   ```bash
   npm install -g @anthropic-ai/claude-code
   ```

2. **Antigravity í„°ë¯¸ë„ ì„¤ì •**
   
   Antigravity ë‚´ë¶€ í„°ë¯¸ë„ì—ì„œ:
   ```bash
   claude auth login
   ```

3. **í†µí•© ì›Œí¬í”Œë¡œìš° ì‹¤í–‰**
   
   ```bash
   # Antigravity Managerì—ì„œ "New Task" ìƒì„±
   # Task: "ì‚¬ìš©ì ì¸ì¦ ì‹œìŠ¤í…œ êµ¬í˜„"
   # Planning Modeë¡œ ì „í™˜í•˜ì—¬ Gemini 3 Proê°€ ê³„íš ìˆ˜ë¦½
   
   # ê³„íšì´ ì™„ë£Œë˜ë©´ í„°ë¯¸ë„ë¡œ ì „í™˜
   claude execute --plan .antigravity/tasks/task-42-auth-plan.md
   ```

**ì¥ì :**
- í•œ í™”ë©´ì—ì„œ ëª¨ë“  ì‘ì—… ìˆ˜í–‰
- Antigravityì˜ ë¸Œë¼ìš°ì €ë¡œ ì‹¤ì‹œê°„ í…ŒìŠ¤íŠ¸
- ì—ì´ì „íŠ¸ ê°„ ìë™ ì¡°ìœ¨

#### ë°©ë²• 2: antigravity-claude-proxy ì‚¬ìš© (ê³ ê¸‰)

Antigravityì˜ ëª¨ë¸ì„ Claude Codeì—ì„œ ë¬´ë£Œë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” í”„ë¡ì‹œ ì„œë²„ì…ë‹ˆë‹¤.

**ì„¤ì¹˜:**

```bash
npm install -g antigravity-claude-proxy
```

**ì„¤ì •:**

```bash
# Antigravity ê³„ì •ìœ¼ë¡œ ì¸ì¦
antigravity-claude-proxy auth add-google

# ë¸Œë¼ìš°ì €ê°€ ì—´ë¦¬ë©´ Google ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸

# í”„ë¡ì‹œ ì„œë²„ ì‹œì‘
antigravity-claude-proxy start --port 8080
```

**Claude Code ì„¤ì •:**

`~/.claude/settings.json`:

```json
{
  "api": {
    "baseURL": "http://localhost:8080",
    "authToken": "test"
  },
  "defaultModel": "gemini-3-pro-preview"
}
```

ì´ì œ Claude Codeë¥¼ ì‹¤í–‰í•˜ë©´ Anthropic API ëŒ€ì‹  Antigravityì˜ ë¬´ë£Œ ì¿¼í„°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤!

**ë³„ì¹­ ì„¤ì • (ê³µì‹ Claudeì™€ ë™ì‹œ ì‚¬ìš©):**

`~/.zshrc` ë˜ëŠ” `~/.bashrc`:

```bash
# ê³µì‹ Claude Code
alias claude='ANTHROPIC_API_KEY="sk-ant-..." command claude'

# Antigravity í”„ë¡ì‹œ ì‚¬ìš©
alias claude-agy='CLAUDE_CONFIG_DIR=~/.claude-agy ANTHROPIC_BASE_URL="http://localhost:8080" ANTHROPIC_AUTH_TOKEN="test" command claude'
```

ì‚¬ìš©:
```bash
# ê³µì‹ Claude (ìœ ë£Œ)
claude chat

# Antigravity ë¬´ë£Œ ì¿¼í„° ì‚¬ìš©
claude-agy chat
```

### 2. 3ë‹¨ê³„ í•˜ì´ë¸Œë¦¬ë“œ ì›Œí¬í”Œë¡œìš°

ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œ ê°€ì¥ íš¨ê³¼ì ì¸ ì›Œí¬í”Œë¡œìš°ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

#### Phase 1: Planning (Antigravity + Gemini 3 Pro)

**ëª©í‘œ:** í”„ë¡œì íŠ¸ ì „ì²´ êµ¬ì¡°ì™€ ìƒì„¸ ì‹¤í–‰ ê³„íš ìˆ˜ë¦½

**ë‹¨ê³„:**

1. Antigravity Managerì—ì„œ "New Task" í´ë¦­
2. ê³ ìˆ˜ì¤€ ìš”êµ¬ì‚¬í•­ ì…ë ¥:
   ```
   ìš”êµ¬ì‚¬í•­: ì‹¤ì‹œê°„ ì±„íŒ… ê¸°ëŠ¥ ì¶”ê°€
   
   ê¸°ìˆ  ìŠ¤íƒ:
   - Backend: Node.js + Socket.io
   - Frontend: React + TypeScript
   - Database: PostgreSQL + Redis (ë©”ì‹œì§€ ìºì‹±)
   
   í•„ìˆ˜ ê¸°ëŠ¥:
   - 1:1 ì±„íŒ…
   - ê·¸ë£¹ ì±„íŒ… (ìµœëŒ€ 50ëª…)
   - íŒŒì¼ ê³µìœ  (ì´ë¯¸ì§€, ë¬¸ì„œ)
   - ì½ìŒ í‘œì‹œ
   - íƒ€ì´í•‘ ì¸ë””ì¼€ì´í„°
   ```

3. "Plan Mode" ì„ íƒ
4. Gemini 3 Proê°€ ìƒì„±í•œ ê³„íšì„œ ì˜ˆì‹œ:

~~~markdown
# ì‹¤ì‹œê°„ ì±„íŒ… ê¸°ëŠ¥ êµ¬í˜„ ê³„íš

## 1. ì•„í‚¤í…ì²˜ ê°œìš”

### 1.1 ì‹œìŠ¤í…œ êµ¬ì„± ìš”ì†Œ
- **WebSocket Server**: Socket.ioë¥¼ ì‚¬ìš©í•œ ì–‘ë°©í–¥ í†µì‹ 
- **Message Broker**: Redis Pub/Subë¡œ ë‹¤ì¤‘ ì„œë²„ ê°„ ë©”ì‹œì§€ ë™ê¸°í™”
- **Storage Layer**: PostgreSQL (ì˜êµ¬ ë©”ì‹œì§€), Redis (ì˜¨ë¼ì¸ ì‚¬ìš©ì, ìºì‹œ)
- **File Storage**: AWS S3 ë˜ëŠ” Cloudflare R2

### 1.2 ë°ì´í„° ëª¨ë¸

**conversations í…Œì´ë¸”:**
```sql
CREATE TABLE conversations (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  type VARCHAR(20) CHECK (type IN ('direct', 'group')),
  name VARCHAR(255),
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);
```

**conversation_participants í…Œì´ë¸”:**
```sql
CREATE TABLE conversation_participants (
  conversation_id UUID REFERENCES conversations(id),
  user_id UUID REFERENCES users(id),
  joined_at TIMESTAMP DEFAULT NOW(),
  last_read_message_id UUID,
  PRIMARY KEY (conversation_id, user_id)
);
```

**messages í…Œì´ë¸”:**
```sql
CREATE TABLE messages (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  conversation_id UUID REFERENCES conversations(id),
  sender_id UUID REFERENCES users(id),
  content TEXT,
  type VARCHAR(20) CHECK (type IN ('text', 'image', 'file')),
  file_url TEXT,
  file_name TEXT,
  file_size INTEGER,
  created_at TIMESTAMP DEFAULT NOW(),
  edited_at TIMESTAMP,
  deleted_at TIMESTAMP
);
```

## 2. êµ¬í˜„ ë‹¨ê³„

### Phase 1: Backend Foundation (3-4ì¼)
**ë‹´ë‹¹: Backend API Agent (Claude Opus 4.5)**

**Task 2.1: Socket.io ì„œë²„ ì„¤ì •**
- [ ] socket.io ë° ì˜ì¡´ì„± ì„¤ì¹˜
- [ ] Socket.io ì„œë²„ ì´ˆê¸°í™” ë° CORS ì„¤ì •
- [ ] JWT ê¸°ë°˜ ì†Œì¼“ ì¸ì¦ ë¯¸ë“¤ì›¨ì–´
- [ ] ì—°ê²° ê´€ë¦¬ (connect/disconnect ì´ë²¤íŠ¸)

**Task 2.2: Redis í†µí•©**
- [ ] Redis í´ë¼ì´ì–¸íŠ¸ ì„¤ì •
- [ ] Pub/Sub ì±„ë„ êµ¬ì„±
- [ ] ì˜¨ë¼ì¸ ì‚¬ìš©ì ì¶”ì  (Set ìë£Œêµ¬ì¡°)
- [ ] ë©”ì‹œì§€ ìºì‹± ì „ëµ (ìµœê·¼ 100ê°œ ë©”ì‹œì§€)

**Task 2.3: ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ë° ëª¨ë¸**
- [ ] Prisma ìŠ¤í‚¤ë§ˆ ì‘ì„±
- [ ] ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„± ë° ì‹¤í–‰
- [ ] Repository íŒ¨í„´ìœ¼ë¡œ ë°ì´í„° ì ‘ê·¼ ë ˆì´ì–´ êµ¬í˜„

**Task 2.4: ë©”ì‹œì§€ ì „ì†¡ ë¡œì§**
- [ ] 1:1 ë©”ì‹œì§€ ì „ì†¡ API
- [ ] ê·¸ë£¹ ë©”ì‹œì§€ ì „ì†¡ API
- [ ] ë©”ì‹œì§€ ì „ë‹¬ í™•ì¸ ë¡œì§
- [ ] ì˜¤ë¥˜ ì²˜ë¦¬ ë° ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜

### Phase 2: Frontend Integration (2-3ì¼)
**ë‹´ë‹¹: Frontend Builder Agent (Gemini 3 Flash)**

**Task 2.5: Socket.io í´ë¼ì´ì–¸íŠ¸**
- [ ] socket.io-client ì„¤ì •
- [ ] React Contextë¡œ ì†Œì¼“ ì—°ê²° ê´€ë¦¬
- [ ] ìë™ ì¬ì—°ê²° ë¡œì§
- [ ] ì—°ê²° ìƒíƒœ UI í‘œì‹œ

**Task 2.6: ì±„íŒ… UI ì»´í¬ë„ŒíŠ¸**
- [ ] ConversationList ì»´í¬ë„ŒíŠ¸
- [ ] MessageThread ì»´í¬ë„ŒíŠ¸
- [ ] MessageInput ì»´í¬ë„ŒíŠ¸
- [ ] TypingIndicator ì»´í¬ë„ŒíŠ¸

### Phase 3: íŒŒì¼ ê³µìœ  (2ì¼)
**ë‹´ë‹¹: Backend API Agent + Frontend Builder Agent**

**Task 2.7: íŒŒì¼ ì—…ë¡œë“œ**
- [ ] Multer ë¯¸ë“¤ì›¨ì–´ ì„¤ì •
- [ ] S3/R2 ì—…ë¡œë“œ ë¡œì§
- [ ] íŒŒì¼ íƒ€ì… ë° í¬ê¸° ê²€ì¦
- [ ] ì§„í–‰ë¥  í‘œì‹œ UI

### Phase 4: ì½ìŒ í‘œì‹œ & íƒ€ì´í•‘ ì¸ë””ì¼€ì´í„° (1-2ì¼)
**Task 2.8: ì½ìŒ í‘œì‹œ**
- [ ] ë©”ì‹œì§€ ì½ìŒ ìƒíƒœ ì—…ë°ì´íŠ¸ API
- [ ] ì‹¤ì‹œê°„ ì½ìŒ ìƒíƒœ ë™ê¸°í™”
- [ ] UIì— ì½ìŒ í‘œì‹œ ì•„ì´ì½˜

**Task 2.9: íƒ€ì´í•‘ ì¸ë””ì¼€ì´í„°**
- [ ] typing:start/stop ì†Œì¼“ ì´ë²¤íŠ¸
- [ ] ë””ë°”ìš´ì‹± ë¡œì§ (3ì´ˆ í›„ ìë™ ì¤‘ì§€)
- [ ] íƒ€ì´í•‘ ì¤‘ì¸ ì‚¬ìš©ì ëª©ë¡ í‘œì‹œ

## 3. í…ŒìŠ¤íŠ¸ ê³„íš
**ë‹´ë‹¹: Test Automation Agent (Gemini 3 Flash)**

### 3.1 ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
- [ ] Message ëª¨ë¸ í…ŒìŠ¤íŠ¸
- [ ] Conversation ëª¨ë¸ í…ŒìŠ¤íŠ¸
- [ ] Socket ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í…ŒìŠ¤íŠ¸

### 3.2 í†µí•© í…ŒìŠ¤íŠ¸
- [ ] ë©”ì‹œì§€ ì „ì†¡ E2E í”Œë¡œìš°
- [ ] íŒŒì¼ ì—…ë¡œë“œ í”Œë¡œìš°
- [ ] ë‹¤ì¤‘ ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤

### 3.3 ë¶€í•˜ í…ŒìŠ¤íŠ¸
- [ ] Artilleryë¡œ 1000ëª… ë™ì‹œ ì—°ê²° í…ŒìŠ¤íŠ¸
- [ ] ì´ˆë‹¹ 100 ë©”ì‹œì§€ ì²˜ë¦¬ ê²€ì¦

## 4. ë³´ì•ˆ ê³ ë ¤ì‚¬í•­
**ê²€í† : Security Auditor Agent (Gemini 3 Pro)**

- [ ] XSS ë°©ì§€: ë©”ì‹œì§€ sanitization
- [ ] CSRF ë°©ì§€: Socket ì¸ì¦ í† í° ê²€ì¦
- [ ] Rate Limiting: ì‚¬ìš©ìë‹¹ ì´ˆë‹¹ 10 ë©”ì‹œì§€ ì œí•œ
- [ ] íŒŒì¼ ì—…ë¡œë“œ: ì•…ì„± íŒŒì¼ ê²€ì‚¬ (ClamAV)

## 5. ì˜ˆìƒ ì¼ì •
- ì´ ì†Œìš” ì‹œê°„: 8-11ì¼
- ë³‘ë ¬ ì‘ì—… ê°€ëŠ¥: Phase 1ê³¼ Phase 2 ì¼ë¶€ ì¤‘ë³µ
- ì‹¤ì œ ì™„ë£Œ ì˜ˆìƒ: 7ì¼ (AI ì—ì´ì „íŠ¸ í™œìš© ì‹œ)

## 6. í•„ìš”í•œ ë¦¬ì†ŒìŠ¤
- Developers: 2ëª… (ë˜ëŠ” AI ì—ì´ì „íŠ¸ 4ê°œ)
- Infrastructure: Redis, PostgreSQL, S3
- Third-party Services: AWS SES (ì•Œë¦¼ ì´ë©”ì¼)
~~~

#### Phase 2: Implementation (Claude Code + Claude Opus 4.5)

**ëª©í‘œ:** ê³„íšì„œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‹¤ì œ ì½”ë“œ ì‘ì„±

**ë‹¨ê³„:**

1. Antigravityì—ì„œ ê³„íšì„œ ë‚´ë³´ë‚´ê¸°:
   ```bash
   # Antigravity í„°ë¯¸ë„
   agy export plan task-42 --format markdown --output /tmp/chat-plan.md
   ```

2. Claude Codeë¡œ ê³„íš ì‹¤í–‰:
   ```bash
   claude execute --plan /tmp/chat-plan.md --model claude-opus-4-5
   ```

3. Claudeê°€ ë‹¨ê³„ë³„ë¡œ ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤:

```
Claude Code: Task 2.1ì„ ì‹œì‘í•©ë‹ˆë‹¤ - Socket.io ì„œë²„ ì„¤ì •

[1/4] socket.io ì„¤ì¹˜ ì¤‘...
âœ“ npm install socket.io @types/socket.io

[2/4] server/socket.ts ìƒì„± ì¤‘...

import { Server as SocketIOServer } from 'socket.io';
import { Server as HTTPServer } from 'http';
import jwt from 'jsonwebtoken';

export function initializeSocket(httpServer: HTTPServer) {
  const io = new SocketIOServer(httpServer, {
    cors: {
      origin: process.env.CLIENT_URL,
      credentials: true
    }
  });

  // JWT ì¸ì¦ ë¯¸ë“¤ì›¨ì–´
  io.use((socket, next) => {
    const token = socket.handshake.auth.token;
    
    if (!token) {
      return next(new Error('Authentication required'));
    }
    
    try {
      const decoded = jwt.verify(token, process.env.JWT_SECRET);
      socket.data.user = decoded;
      next();
    } catch (error) {
      next(new Error('Invalid token'));
    }
  });

  io.on('connection', (socket) => {
    console.log(`User connected: ${socket.data.user.id}`);
    
    // ì‚¬ìš©ìë¥¼ ì˜¨ë¼ì¸ ëª©ë¡ì— ì¶”ê°€
    socket.join(`user:${socket.data.user.id}`);
    
    socket.on('disconnect', () => {
      console.log(`User disconnected: ${socket.data.user.id}`);
    });
  });

  return io;
}

íŒŒì¼ ìƒì„±ë¨: server/socket.ts (47 lines)

[3/4] server/index.tsì— í†µí•© ì¤‘...

ê¸°ì¡´:
import express from 'express';
const app = express();

ìˆ˜ì •:
import express from 'express';
import http from 'http';
import { initializeSocket } from './socket';

const app = express();
const httpServer = http.createServer(app);
const io = initializeSocket(httpServer);

httpServer.listen(3000, () => {
  console.log('Server running on port 3000');
});

âœ“ server/index.ts ì—…ë°ì´íŠ¸ë¨

[4/4] í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì¤‘...
âœ“ Socket connection test passed

Task 2.1 ì™„ë£Œ! ë‹¤ìŒ ì‘ì—…ì„ ì§„í–‰í• ê¹Œìš”? (y/n)
```

**ì¤‘ìš” í¬ì¸íŠ¸:**

Claude CodeëŠ” Antigravityì˜ ê³„íšì„œë¥¼ ì¶©ì‹¤íˆ ë”°ë¥´ë©´ì„œë„, ì½”ë“œ í’ˆì§ˆê³¼ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ë¥¼ ë³´ì¥í•©ë‹ˆë‹¤:
- TypeScript íƒ€ì… ì•ˆì •ì„±
- ì—ëŸ¬ ì²˜ë¦¬
- ì£¼ì„ ë° ë¬¸ì„œí™”
- í…ŒìŠ¤íŠ¸ ìë™ ì‹¤í–‰

#### Phase 3: Testing (Antigravity Browser + Test Agents)

**ëª©í‘œ:** êµ¬í˜„ëœ ê¸°ëŠ¥ì„ ìë™ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•˜ê³  ë²„ê·¸ ë°œê²¬

**ë‹¨ê³„:**

1. Antigravity Managerì—ì„œ "Run Tests" ì„ íƒ
2. Test Automation Agentê°€ í™œì„±í™”ë˜ì–´ ì‹œë‚˜ë¦¬ì˜¤ ì‹¤í–‰:

```
Test Suite: Real-time Chat Features
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Test 1: User Authentication
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Browser Agent:
1. Navigate to http://localhost:3000
2. Click "Login"
3. Enter credentials: test1@example.com / password123
4. Click "Submit"

âœ“ Redirected to /chat (1.2s)
âœ“ JWT token stored in localStorage
âœ“ User profile displayed: "Test User 1"

Test 2: Send Message (1:1 Chat)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Browser Agent (User 1):
1. Click on "Test User 2" in conversation list
2. Type message: "Hello, this is a test message"
3. Press Enter

Browser Agent (User 2, parallel window):
âœ“ Message received in real-time (234ms)
âœ“ Notification sound played
âœ“ Message content matches: "Hello, this is a test message"
âœ“ Sender name displayed: "Test User 1"

Test 3: Typing Indicator
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Browser Agent (User 1):
1. Focus on message input
2. Type "Testing typing indicator..."

Browser Agent (User 2):
âœ“ "Test User 1 is typing..." appeared (98ms)
âœ“ Indicator disappeared after 3s of inactivity

Test 4: File Upload
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Browser Agent (User 1):
1. Click attachment icon
2. Select file: test-image.png (245KB)
3. Confirm upload

âœ“ Upload progress bar displayed
âœ“ File uploaded to S3 (2.1s)
âœ“ Image preview shown in chat
âœ“ User 2 received file link

Test 5: Read Receipts
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Browser Agent (User 1):
- Send message

Browser Agent (User 2):
- Scroll to message
- Message enters viewport

âœ“ "Read" status synced to User 1 (156ms)
âœ“ Double checkmark icon displayed

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Test Results: 5/5 passed (12.3s total)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Issues Found: 0 ğŸ‰
Performance: All actions < 300ms âœ“
```

ë§Œì•½ ë²„ê·¸ê°€ ë°œê²¬ë˜ë©´:

```
âš ï¸ Test 4 FAILED: File Upload

Expected: Image preview in chat
Actual: Only file name displayed, no preview

Screenshot: test-failure-file-upload.png

Agent Analysis:
ì›ì¸: ImagePreview ì»´í¬ë„ŒíŠ¸ê°€ S3 URLì„ ì œëŒ€ë¡œ ë Œë”ë§í•˜ì§€ ëª»í•¨
ì¶”ì²œ ìˆ˜ì •:
1. S3 ë²„í‚·ì˜ CORS ì„¤ì • í™•ì¸
2. URLì— ì ì ˆí•œ Content-Type í—¤ë” í¬í•¨
3. ImagePreview ì»´í¬ë„ŒíŠ¸ì˜ error fallback ì¶”ê°€

ìë™ ìˆ˜ì •ì„ ì‹œë„í• ê¹Œìš”? (y/n)
```

`y` ì…ë ¥ ì‹œ Claude Codeê°€ ìë™ìœ¼ë¡œ ìˆ˜ì •:

```bash
claude fix --issue "test-failure-file-upload" \
           --suggestion "Add CORS headers and error fallback"
```

---

## ì‹¤ì „ í”„ë¡œì íŠ¸ êµ¬í˜„ ê°€ì´ë“œ

ì´ë¡ ì€ ì¶©ë¶„í•©ë‹ˆë‹¤. ì´ì œ ì‹¤ì œ í”„ë¡œì íŠ¸ë¥¼ ì²˜ìŒë¶€í„° ëê¹Œì§€ êµ¬í˜„í•´ë´…ì‹œë‹¤.

### í”„ë¡œì íŠ¸: AI ê¸°ë°˜ ì½”ë“œ ë¦¬ë·° ìë™í™” ì‹œìŠ¤í…œ

**ìš”êµ¬ì‚¬í•­:**
- GitHub PRì´ ìƒì„±ë˜ë©´ ìë™ìœ¼ë¡œ íŠ¸ë¦¬ê±°
- ì½”ë“œ í’ˆì§ˆ ë¶„ì„ (ë³µì¡ë„, ì¤‘ë³µ, ë³´ì•ˆ)
- AIê°€ ê°œì„  ì œì•ˆ ì½”ë©˜íŠ¸ ì‘ì„±
- ìŠ¹ì¸/ê±°ë¶€ ê²°ì • (ì„¤ì • ê°€ëŠ¥í•œ ì„ê³„ê°’ ê¸°ë°˜)
- Slack ì•Œë¦¼

### Step 1: Antigravityì—ì„œ í”„ë¡œì íŠ¸ ì´ˆê¸°í™”

```
Antigravity Manager:
New Task > "Create AI Code Review System"

Planning Mode: On
Model: Gemini 3 Pro

Prompt:
"GitHub PR ìë™ ë¦¬ë·° ì‹œìŠ¤í…œì„ ë§Œë“¤ì–´ì£¼ì„¸ìš”.

ê¸°ìˆ  ìŠ¤íƒ:
- Language: TypeScript
- Framework: Node.js + Express
- GitHub API: Octokit
- AI Model: Claude Opus 4.5 API
- Database: PostgreSQL
- Queue: Bull (Redis)
- Notifications: Slack API

êµ¬ì¡°:
1. GitHub Webhookì„ ë°›ëŠ” ì„œë²„
2. PR ì½”ë“œ ë¶„ì„ ì›Œì»¤
3. Claude APIë¡œ ë¦¬ë·° ìƒì„±
4. GitHubì— ì½”ë©˜íŠ¸ ì‘ì„±
5. Slack ì•Œë¦¼ ì „ì†¡

ë³´ì•ˆ:
- Webhook secret ê²€ì¦
- GitHub token ì•”í˜¸í™” ì €ì¥
- Rate limiting
"
```

Gemini 3 Proê°€ ìƒì„±í•œ ì•„í‚¤í…ì²˜ (ìš”ì•½):

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       System Architecture                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

GitHub PR Created
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Webhook Server  â”‚ (Express + TypeScript)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ Validate secret
         â”‚ Parse payload
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Bull Queue    â”‚ (Redis)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Analysis Worker â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ 1. Fetch PR files (Octokit)
         â”‚ 2. Run ESLint, SonarQube
         â”‚ 3. Calculate complexity
         â”‚ 4. Detect duplicates
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Claude API Call â”‚ (Opus 4.5)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ Generate review comments
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GitHub API      â”‚ (Post comments)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Slack API     â”‚ (Send notification)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Step 2: Claude Codeë¡œ êµ¬í˜„

Antigravity ê³„íšì„œë¥¼ Claude Codeë¡œ ì „ë‹¬:

```bash
# Antigravityì—ì„œ export
agy export plan code-review-system --output ~/code-review-plan.md

# Claude Code ì‹¤í–‰
cd ~/projects
claude init --name ai-code-review --plan ~/code-review-plan.md
```

Claude Codeê°€ ì „ì²´ í”„ë¡œì íŠ¸ êµ¬ì¡°ë¥¼ ìƒì„±:

```
ai-code-review/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ server/
â”‚   â”‚   â”œâ”€â”€ index.ts           # Express server
â”‚   â”‚   â”œâ”€â”€ webhook.ts         # GitHub webhook handler
â”‚   â”‚   â””â”€â”€ middleware/
â”‚   â”‚       â”œâ”€â”€ auth.ts        # Webhook secret validation
â”‚   â”‚       â””â”€â”€ ratelimit.ts   # Rate limiting
â”‚   â”œâ”€â”€ worker/
â”‚   â”‚   â”œâ”€â”€ index.ts           # Bull worker
â”‚   â”‚   â”œâ”€â”€ analyzer.ts        # Code analysis
â”‚   â”‚   â””â”€â”€ reviewer.ts        # Claude API integration
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ github.ts          # GitHub API client
â”‚   â”‚   â”œâ”€â”€ claude.ts          # Claude API client
â”‚   â”‚   â””â”€â”€ slack.ts           # Slack API client
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ Review.ts          # Review entity
â”‚   â”‚   â””â”€â”€ PRMetadata.ts      # PR metadata
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ complexity.ts      # Complexity calculation
â”‚       â”œâ”€â”€ duplicates.ts      # Duplicate detection
â”‚       â””â”€â”€ logger.ts          # Logging
â”œâ”€â”€ prisma/
â”‚   â””â”€â”€ schema.prisma          # Database schema
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ webhook.test.ts
â”‚   â”œâ”€â”€ analyzer.test.ts
â”‚   â””â”€â”€ reviewer.test.ts
â”œâ”€â”€ .env.example
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â””â”€â”€ README.md
```

**ì£¼ìš” ì½”ë“œ ì˜ˆì‹œ (Claudeê°€ ìƒì„±):**

`src/worker/reviewer.ts`:

```typescript
import Anthropic from '@anthropic-ai/sdk';
import { logger } from '../utils/logger';

interface ReviewRequest {
  files: Array<{ filename: string; patch: string }>;
  prTitle: string;
  prDescription: string;
}

interface ReviewComment {
  path: string;
  position: number;
  body: string;
  severity: 'info' | 'warning' | 'error';
}

export class CodeReviewer {
  private client: Anthropic;

  constructor() {
    this.client = new Anthropic({
      apiKey: process.env.ANTHROPIC_API_KEY!,
    });
  }

  async reviewPR(request: ReviewRequest): Promise<ReviewComment[]> {
    const prompt = this.buildPrompt(request);
    
    logger.info('Requesting code review from Claude Opus 4.5');
    
    const response = await this.client.messages.create({
      model: 'claude-opus-4-5-20251101',
      max_tokens: 4096,
      temperature: 0.3,
      messages: [{
        role: 'user',
        content: prompt
      }]
    });

    const reviewText = response.content[0].type === 'text' 
      ? response.content[0].text 
      : '';

    return this.parseReview(reviewText, request.files);
  }

  private buildPrompt(request: ReviewRequest): string {
    const filesContext = request.files
      .map(f => `File: ${f.filename}\n\`\`\`diff\n${f.patch}\n\`\`\``)
      .join('\n\n');

    return `You are an expert code reviewer. Analyze this Pull Request and provide detailed feedback.

PR Title: ${request.prTitle}
PR Description: ${request.prDescription}

Changed Files:
${filesContext}

Instructions:
1. Identify potential bugs, security vulnerabilities, and performance issues
2. Suggest improvements for code readability and maintainability
3. Check for TypeScript type safety
4. Verify error handling
5. Look for code duplication

For each issue, provide:
- File path
- Line number (in the diff)
- Severity (info/warning/error)
- Description and suggested fix

Format your response as JSON:
{
  "comments": [
    {
      "path": "src/example.ts",
      "line": 10,
      "severity": "warning",
      "message": "...",
      "suggestion": "..."
    }
  ],
  "summary": "Overall assessment...",
  "approved": true/false
}`;
  }

  private parseReview(
    reviewText: string, 
    files: Array<{ filename: string; patch: string }>
  ): ReviewComment[] {
    try {
      // JSON ë¶€ë¶„ë§Œ ì¶”ì¶œ (Claudeê°€ ì¶”ê°€ ì„¤ëª…ì„ ë¶™ì¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ)
      const jsonMatch = reviewText.match(/\{[\s\S]*\}/);
      if (!jsonMatch) {
        throw new Error('No JSON found in response');
      }

      const parsed = JSON.parse(jsonMatch[0]);
      
      return parsed.comments.map(c => ({
        path: c.path,
        position: this.findDiffPosition(c.path, c.line, files),
        body: `**${c.severity.toUpperCase()}**: ${c.message}\n\n${c.suggestion}`,
        severity: c.severity
      }));

    } catch (error) {
      logger.error('Failed to parse review', error);
      return [{
        path: files[0]?.filename || 'unknown',
        position: 1,
        body: 'AI review parsing failed. Please check logs.',
        severity: 'error'
      }];
    }
  }

  private findDiffPosition(
    path: string, 
    line: number, 
    files: Array<{ filename: string; patch: string }>
  ): number {
    const file = files.find(f => f.filename === path);
    if (!file) return 1;

    // Diff í˜•ì‹ì—ì„œ ì‹¤ì œ ë¼ì¸ ë²ˆí˜¸ë¥¼ positionìœ¼ë¡œ ë³€í™˜
    const lines = file.patch.split('\n');
    let currentLine = 0;
    
    for (let i = 0; i < lines.length; i++) {
      const match = lines[i].match(/^@@ -\d+,\d+ \+(\d+),\d+ @@/);
      if (match) {
        currentLine = parseInt(match[1]);
      } else if (lines[i].startsWith('+')) {
        currentLine++;
        if (currentLine === line) return i;
      }
    }

    return 1; // ê¸°ë³¸ê°’
  }
}
```

### Step 3: Antigravityë¡œ í†µí•© í…ŒìŠ¤íŠ¸

Antigravity Browser Agentë¥¼ ì‚¬ìš©í•œ E2E í…ŒìŠ¤íŠ¸:

```
Test Plan: AI Code Review System

Test 1: Webhook Reception
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
1. Create test PR in GitHub
2. Verify webhook POST to http://localhost:3000/webhook
3. Check database for new review record

Expected:
- HTTP 200 response
- Job added to Bull queue
- DB record created

Test 2: Code Analysis
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
1. Submit PR with intentional issues:
   - Unused variable
   - Missing error handling
   - Complex function (cyclomatic complexity > 10)

Expected:
- ESLint detects unused variable
- Complexity calculator flags complex function
- Issues saved to database

Test 3: Claude Review Generation
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
1. Trigger reviewer worker
2. Wait for Claude API response
3. Parse review comments

Expected:
- Claude identifies all 3 issues
- Provides specific suggestions
- Severity levels assigned correctly

Test 4: GitHub Comment Posting
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
1. Worker posts comments to GitHub
2. Verify comments appear on PR

Browser Agent:
- Navigate to test PR
- Check for review comments
- Verify comment formatting

Expected:
- 3 comments posted
- Markdown formatted correctly
- Code suggestions included

Test 5: Slack Notification
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
1. Worker sends Slack message
2. Verify message content

Expected:
- Message includes PR link
- Lists number of issues
- Shows approval status
```

ì‹¤í–‰ ê²°ê³¼:

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
All Tests Passed! (5/5)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Total Duration: 18.7s
Performance:
- Webhook â†’ Queue: 34ms âœ“
- Analysis: 2.1s âœ“
- Claude Review: 8.3s âœ“
- GitHub Comment: 1.2s âœ“
- Slack Notification: 0.8s âœ“

Issues: 0
Coverage: 94.2%

Ready for production? (y/n)
```

### Step 4: ë°°í¬ ë° ëª¨ë‹ˆí„°ë§

Claude Codeë¡œ ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ìƒì„±:

```bash
claude task "Create Kubernetes deployment manifests for the code review system"
```

ìƒì„±ëœ íŒŒì¼ë“¤:

```
k8s/
â”œâ”€â”€ deployment.yaml
â”œâ”€â”€ service.yaml
â”œâ”€â”€ ingress.yaml
â”œâ”€â”€ configmap.yaml
â”œâ”€â”€ secret.yaml (template)
â””â”€â”€ redis.yaml
```

`k8s/deployment.yaml`:

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: ai-code-review
  labels:
    app: ai-code-review
spec:
  replicas: 3
  selector:
    matchLabels:
      app: ai-code-review
  template:
    metadata:
      labels:
        app: ai-code-review
    spec:
      containers:
      - name: server
        image: your-registry/ai-code-review:latest
        ports:
        - containerPort: 3000
        env:
        - name: DATABASE_URL
          valueFrom:
            secretKeyRef:
              name: ai-code-review-secrets
              key: database-url
        - name: ANTHROPIC_API_KEY
          valueFrom:
            secretKeyRef:
              name: ai-code-review-secrets
              key: anthropic-key
        - name: GITHUB_TOKEN
          valueFrom:
            secretKeyRef:
              name: ai-code-review-secrets
              key: github-token
        resources:
          requests:
            memory: "256Mi"
            cpu: "250m"
          limits:
            memory: "512Mi"
            cpu: "500m"
        livenessProbe:
          httpGet:
            path: /health
            port: 3000
          initialDelaySeconds: 30
          periodSeconds: 10
        readinessProbe:
          httpGet:
            path: /ready
            port: 3000
          initialDelaySeconds: 5
          periodSeconds: 5
```

ë°°í¬:

```bash
kubectl apply -f k8s/
```

---

## ê³ ê¸‰ ìµœì í™” ì „ëµ

### 1. í† í° ì‚¬ìš©ëŸ‰ ìµœì†Œí™”

#### ì „ëµ 1: ê³„íš ë‹¨ê³„ì™€ ì‹¤í–‰ ë‹¨ê³„ ë¶„ë¦¬

**ë¬¸ì œ:**
Planning Modeì—ì„œ ì—¬ëŸ¬ ì°¨ë¡€ ê³„íšì„ ìˆ˜ì •í•˜ë‹¤ ë³´ë©´ ì»¨í…ìŠ¤íŠ¸ ìœˆë„ìš°ê°€ ê¸ˆë°© ì†Œì§„ë©ë‹ˆë‹¤.

**í•´ê²°:**
ê³„íšì´ í™•ì •ë˜ë©´ ì¦‰ì‹œ "Clear and Accept"ë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒˆ ì„¸ì…˜ ì‹œì‘.

**ì¸¡ì • ê°€ëŠ¥í•œ íš¨ê³¼:**
- ì´ì „: í‰ê·  15ë§Œ í† í° ì‚¬ìš© (ê³„íš 8ë§Œ + ì‹¤í–‰ 7ë§Œ)
- ì´í›„: í‰ê·  9ë§Œ í† í° ì‚¬ìš© (ê³„íš 8ë§Œ + ìƒˆ ì„¸ì…˜ ì‹¤í–‰ 1ë§Œ)
- **ì ˆê°: 40%**

#### ì „ëµ 2: MCP ë„êµ¬ ê²€ìƒ‰ ì„ê³„ê°’ ì¡°ì •

10ê°œ ì´ìƒì˜ MCP ì„œë²„ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°:

```json
{
  "mcpToolSearch": {
    "threshold": "3%"  // ê¸°ë³¸ê°’ 10%ì—ì„œ ë‚®ì¶¤
  }
}
```

**íš¨ê³¼:**
- ì»¨í…ìŠ¤íŠ¸ ì ˆì•½: ì•½ 35,000 í† í°
- ì‘ë‹µ ì†ë„ í–¥ìƒ: í‰ê·  1.2ì´ˆ ë‹¨ì¶•

#### ì „ëµ 3: Selective File Loading

ëª¨ë“  íŒŒì¼ì„ ì»¨í…ìŠ¤íŠ¸ì— ë¡œë“œí•˜ì§€ ë§ê³  í•„ìš”í•œ íŒŒì¼ë§Œ:

```bash
claude --files "src/auth/**/*.ts" task "Refactor authentication logic"
```

vs.

```bash
claude --files "src/**/*" task "..."  # ëª¨ë“  íŒŒì¼ - ë¹„íš¨ìœ¨ì 
```

### 2. ëª¨ë¸ ì„ íƒ ìµœì í™”

| ì‘ì—… ìœ í˜• | ìµœì  ëª¨ë¸ | ì´ìœ  |
|-----------|----------|------|
| ì´ˆê¸° ì•„í‚¤í…ì²˜ ì„¤ê³„ | Gemini 3 Pro | ì¥ê¸° ì¶”ë¡ , êµ¬ì¡°ì  ì‚¬ê³  |
| CRUD API ì‘ì„± | Gemini 3 Flash | ë¹ ë¥´ê³  ì €ë ´, íŒ¨í„´ ê¸°ë°˜ |
| ë³´ì•ˆ í¬ë¦¬í‹°ì»¬ ì½”ë“œ | Claude Opus 4.5 | ë†’ì€ ì •í™•ë„, ë³´ì•ˆ ê²€ì¦ |
| ë¦¬íŒ©í† ë§ | Claude Sonnet 4.5 | ê· í˜•ì¡íŒ ì„±ëŠ¥ê³¼ ë¹„ìš© |
| ì•Œê³ ë¦¬ì¦˜ ìµœì í™” | Gemini 3 Deep Think | ìˆ˜í•™ì  ì¶”ë¡  |
| UI ì»´í¬ë„ŒíŠ¸ | Gemini 3 Flash | ë¹ ë¥¸ í”„ë¡œí† íƒ€ì´í•‘ |

**ì‹¤ì „ ì˜ˆì‹œ:**

```bash
# ì•„í‚¤í…ì²˜ ì„¤ê³„
agy chat --model gemini-3-pro "Design microservices architecture for ..."

# ê³„íšì„œ export
agy export plan arch-design --output ~/plan.md

# í•µì‹¬ ì„œë¹„ìŠ¤ êµ¬í˜„ (ë³´ì•ˆ ì¤‘ìš”)
claude execute --plan ~/plan.md --model opus --files "src/payment/**"

# ë‚˜ë¨¸ì§€ ì„œë¹„ìŠ¤ (ì¼ë°˜ ë¡œì§)
claude execute --plan ~/plan.md --model sonnet --files "src/!(payment)/**"

# UI ì»´í¬ë„ŒíŠ¸ ìƒì„±
agy agent create ui-builder --model gemini-3-flash
```

### 3. ë³‘ë ¬ ì—ì´ì „íŠ¸ í™œìš©

Antigravityì˜ ê°•ì ì€ ì—¬ëŸ¬ ì—ì´ì „íŠ¸ê°€ ë™ì‹œì— ì‘ì—…í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì…ë‹ˆë‹¤.

**ì‹œë‚˜ë¦¬ì˜¤: Monorepoì—ì„œ 3ê°œ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ê°œë°œ**

```
í”„ë¡œì íŠ¸ êµ¬ì¡°:
monorepo/
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ auth/
â”‚   â”œâ”€â”€ payment/
â”‚   â””â”€â”€ notification/
```

**ì „í†µì  ë°©ì‹ (ìˆœì°¨):**
1. Auth ì„œë¹„ìŠ¤ ê°œë°œ (3ì‹œê°„)
2. Payment ì„œë¹„ìŠ¤ ê°œë°œ (4ì‹œê°„)
3. Notification ì„œë¹„ìŠ¤ ê°œë°œ (2ì‹œê°„)
**ì´ 9ì‹œê°„**

**ë³‘ë ¬ ì—ì´ì „íŠ¸ ë°©ì‹:**

Antigravity Manager:
```
Agent 1 (Claude Opus): Auth Service
â””â”€ ì˜ˆìƒ ì‹œê°„: 3ì‹œê°„

Agent 2 (Claude Opus): Payment Service  
â””â”€ ì˜ˆìƒ ì‹œê°„: 4ì‹œê°„

Agent 3 (Gemini Flash): Notification Service
â””â”€ ì˜ˆìƒ ì‹œê°„: 2ì‹œê°„

ì´ ì†Œìš” ì‹œê°„: 4ì‹œê°„ (ê°€ì¥ ê¸´ ì‘ì—… ê¸°ì¤€)
ì ˆê°: 55%
```

**ì£¼ì˜ì‚¬í•­:**
- ê³µìœ  ì˜ì¡´ì„±ì´ ìˆëŠ” ê²½ìš° ìˆœì„œ ì§€ì • í•„ìš”
- ê° ì—ì´ì „íŠ¸ê°€ ë…ë¦½ì ì¸ ì»¨í…ìŠ¤íŠ¸ë¥¼ ê°€ì§€ë¯€ë¡œ ì¤‘ë³µ ì‘ì—… ê°€ëŠ¥ì„±
- ì •ê¸°ì ìœ¼ë¡œ í†µí•© í…ŒìŠ¤íŠ¸ ì‹¤í–‰í•˜ì—¬ í˜¸í™˜ì„± í™•ì¸

### 4. ìºì‹± ì „ëµ

Claude Codeì˜ prompt caching í™œìš©:

```json
{
  "promptCaching": {
    "enabled": true,
    "strategy": "aggressive",
    "ttl": 3600  // 1ì‹œê°„
  }
}
```

**íš¨ê³¼:**
- ë™ì¼í•œ íŒŒì¼/ì½”ë“œë² ì´ìŠ¤ì— ëŒ€í•œ ë°˜ë³µ ì‘ì—… ì‹œ 90% í† í° ì ˆê°
- ì˜ˆ: ê°™ì€ API ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì—¬ëŸ¬ ë²ˆ ìˆ˜ì •í•˜ëŠ” ê²½ìš°

**ì¸¡ì • ì˜ˆ:**
```
ì²« ë²ˆì§¸ ìš”ì²­:
Input tokens: 45,000
Cached: 0
Cost: $0.90

ë‘ ë²ˆì§¸ ìš”ì²­ (ìºì‹± ì ìš©):
Input tokens: 5,000
Cached: 40,000
Cost: $0.14

ì ˆê°: 84%
```

---

## íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ë° ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤

### ì¼ë°˜ì ì¸ ë¬¸ì œë“¤

#### ë¬¸ì œ 1: "Context Window Exceeded" ì˜¤ë¥˜

**ì¦ìƒ:**
```
Error: Context window exceeded (210,451 tokens > 200,000 limit)
```

**ì›ì¸:**
- ë„ˆë¬´ ë§ì€ íŒŒì¼ì„ ì»¨í…ìŠ¤íŠ¸ì— ë¡œë“œ
- MCP ë„êµ¬ ì„¤ëª…ì´ ê³¼ë„í•˜ê²Œ ë§ìŒ
- ê¸´ ëŒ€í™” íˆìŠ¤í† ë¦¬

**í•´ê²°ì±…:**

1. íŒŒì¼ í•„í„°ë§:
   ```bash
   claude --files "src/auth/*.ts,src/models/User.ts" task "..."
   ```

2. MCP ìë™ ê²€ìƒ‰ í™œì„±í™”:
   ```bash
   export ENABLE_TOOL_SEARCH=true
   export CLAUDE_MCP_TOOL_SEARCH_THRESHOLD=5
   ```

3. ìƒˆ ì„¸ì…˜ ì‹œì‘:
   ```bash
   claude new-session --import-plan previous-plan.md
   ```

#### ë¬¸ì œ 2: Antigravity ì—ì´ì „íŠ¸ê°€ ë¬´í•œ ë£¨í”„ì— ë¹ ì§

**ì¦ìƒ:**
Agentê°€ ê°™ì€ ì‘ì—…ì„ ë°˜ë³µí•´ì„œ ì‹œë„í•˜ë©° ì§„í–‰ë˜ì§€ ì•ŠìŒ

**ì›ì¸:**
- ëª¨í˜¸í•œ ì¢…ë£Œ ì¡°ê±´
- í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ë¥¼ ë¬´ì‹œí•˜ê³  ê³„ì† ì‹¤í–‰
- ìˆœí™˜ ì˜ì¡´ì„±

**í•´ê²°ì±…:**

1. ëª…í™•í•œ ì„±ê³µ ê¸°ì¤€ ì„¤ì •:
   ```
   Task: "Implement login API"
   
   Success Criteria:
   - POST /api/auth/login endpoint created
   - Returns JWT token on valid credentials
   - Returns 401 on invalid credentials
   - Integration test passes
   - Manual test in browser succeeds
   ```

2. ìµœëŒ€ ì‹œë„ íšŸìˆ˜ ì œí•œ:
   ```json
   {
     "agent": {
       "maxRetries": 3,
       "retryDelay": 5000
     }
   }
   ```

3. ì—ì´ì „íŠ¸ ì¼ì‹œ ì¤‘ì§€ í›„ ìˆ˜ë™ ê°œì…:
   ```
   Antigravity Manager > Agent #2 > Pause
   [ìˆ˜ë™ìœ¼ë¡œ ë¬¸ì œ í•´ê²°]
   Antigravity Manager > Agent #2 > Resume
   ```

#### ë¬¸ì œ 3: Claude Codeì™€ Antigravity ì‚¬ì´ íŒŒì¼ ë™ê¸°í™” ë¬¸ì œ

**ì¦ìƒ:**
Claude Codeê°€ ìˆ˜ì •í•œ íŒŒì¼ì„ Antigravityê°€ ì¸ì‹í•˜ì§€ ëª»í•˜ê±°ë‚˜, ê·¸ ë°˜ëŒ€

**ì›ì¸:**
- íŒŒì¼ ì‹œìŠ¤í…œ ê°ì‹œ(watch) ì„¤ì • ë¶ˆì¼ì¹˜
- Git ìƒíƒœ ë¶ˆì¼ì¹˜

**í•´ê²°ì±…:**

1. ëª…ì‹œì  íŒŒì¼ ìƒˆë¡œê³ ì¹¨:
   ```bash
   # Antigravity
   agy refresh
   
   # Claude Code
   claude sync
   ```

2. Gitì„ ì¤‘ê°„ ë ˆì´ì–´ë¡œ ì‚¬ìš©:
   ```bash
   # Claude Code ì‘ì—… í›„
   git add .
   git commit -m "WIP: Claude changes"
   
   # Antigravityì—ì„œ
   git pull
   # ì´ì œ ë³€ê²½ì‚¬í•­ ì¸ì‹ë¨
   ```

3. ê³µìœ  ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì„¤ì •:
   ```json
   // Antigravity settings
   {
     "workspace": "/Users/dev/project"
   }
   
   // Claude Code settings
   {
     "workspaceRoot": "/Users/dev/project"
   }
   ```

### ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤

#### 1. ë²„ì „ ê´€ë¦¬ ì „ëµ

**í•­ìƒ Git ë¸Œëœì¹˜ ì‚¬ìš©:**

```bash
# ì—ì´ì „íŠ¸ ì‘ì—… ì „
git checkout -b agent/feature-xyz

# ì—ì´ì „íŠ¸ ì‘ì—… í›„
git add .
git commit -m "feat: AI-generated feature XYZ

Generated by: Claude Code 2.1
Plan: task-42-auth-system.md
Review: pending"

git push origin agent/feature-xyz

# GitHub PR ìƒì„±í•˜ì—¬ ì¸ê°„ ê²€í† 
```

**ì´ì :**
- ì—ì´ì „íŠ¸ ë³€ê²½ì‚¬í•­ ì¶”ì 
- ë¬¸ì œ ë°œìƒ ì‹œ ì‰¬ìš´ ë¡¤ë°±
- ì½”ë“œ ë¦¬ë·° í”„ë¡œì„¸ìŠ¤ í†µí•©

#### 2. ê³„íšì„œ ì•„ì¹´ì´ë¹™

ëª¨ë“  ê³„íšì„œë¥¼ ë²„ì „ ê´€ë¦¬ì— í¬í•¨:

```
docs/
â”œâ”€â”€ plans/
â”‚   â”œâ”€â”€ 2026-01/
â”‚   â”‚   â”œâ”€â”€ 20-auth-system.md
â”‚   â”‚   â”œâ”€â”€ 21-payment-integration.md
â”‚   â”‚   â””â”€â”€ 22-notification-service.md
â”‚   â””â”€â”€ archive/
â”‚       â””â”€â”€ 2025-12/
```

Gitì— ì»¤ë°‹:
```bash
git add docs/plans/
git commit -m "docs: Add implementation plans for January 2026"
```

**ì´ì :**
- ì˜ì‚¬ê²°ì • ê³¼ì • ë¬¸ì„œí™”
- íŒ€ì› ì˜¨ë³´ë”©ì— ìœ ìš©
- AI ì—ì´ì „íŠ¸ ê°„ ì§€ì‹ ê³µìœ 

#### 3. í…ŒìŠ¤íŠ¸ ìš°ì„  ê°œë°œ

ì—ì´ì „íŠ¸ì—ê²Œ í…ŒìŠ¤íŠ¸ë¥¼ ë¨¼ì € ì‘ì„±í•˜ë„ë¡ ì§€ì‹œ:

```bash
claude task "Write integration tests for auth API, then implement the API to pass those tests"
```

vs.

```bash
claude task "Implement auth API"  # í…ŒìŠ¤íŠ¸ ì—†ì´ êµ¬í˜„ - ìœ„í—˜
```

#### 4. ì ì§„ì  ê²€í† 

ëŒ€ê·œëª¨ ë³€ê²½ì‚¬í•­ì„ í•œ ë²ˆì— ìŠ¹ì¸í•˜ì§€ ë§ê³  ë‹¨ê³„ë³„ë¡œ:

```
Task: Refactor entire codebase to TypeScript

âŒ ë‚˜ìœ ë°©ë²•:
Claude: "Refactor all 150 files to TypeScript"
[150ê°œ íŒŒì¼ ìˆ˜ì •]
Developer: "Approve all"  # ê²€í†  ë¶ˆê°€ëŠ¥

âœ… ì¢‹ì€ ë°©ë²•:
Claude: "Phase 1: Refactor models/ directory (15 files)"
Developer: [15ê°œ íŒŒì¼ ê²€í† ] "Approve"
Claude: "Phase 2: Refactor controllers/ (23 files)"
Developer: [ê²€í† ] "Approve"
...
```

#### 5. ì»¨í…ìŠ¤íŠ¸ ì¬ì‚¬ìš©

ê´€ë ¨ ì‘ì—…ë“¤ì„ í•˜ë‚˜ì˜ ì„¸ì…˜ì—ì„œ:

```bash
# íš¨ìœ¨ì 
claude session start --name "auth-feature"
claude task "Implement login"
claude task "Add password reset"
claude task "Implement 2FA"
# ì„¸ ì‘ì—…ì´ ê°™ì€ ì»¨í…ìŠ¤íŠ¸ ê³µìœ  (user model, auth logic ë“±)

# ë¹„íš¨ìœ¨ì 
claude task "Implement login"
[ìƒˆ ì„¸ì…˜]
claude task "Add password reset"  # user model ë“±ì„ ë‹¤ì‹œ ë¡œë“œ
```

#### 6. í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§

**ëª…í™•í•˜ê³  êµ¬ì²´ì ì¸ ì§€ì‹œ:**

```
âŒ ë‚˜ìœ ì˜ˆ:
"ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ ìµœì í™”í•´ì¤˜"

âœ… ì¢‹ì€ ì˜ˆ:
"users í…Œì´ë¸”ì—ì„œ í™œì„± ì‚¬ìš©ìë¥¼ ì¡°íšŒí•˜ëŠ” ì¿¼ë¦¬ë¥¼ ìµœì í™”í•´ì£¼ì„¸ìš”.
í˜„ì¬:
SELECT * FROM users WHERE status = 'active'

ìš”êµ¬ì‚¬í•­:
1. í•„ìš”í•œ ì»¬ëŸ¼ë§Œ SELECT (id, name, email)
2. email ì»¬ëŸ¼ì— ì¸ë±ìŠ¤ ì¶”ê°€ ì œì•ˆ
3. EXPLAIN ANALYZE ê²°ê³¼ í¬í•¨
4. 10ë§Œ ë ˆì½”ë“œ ê¸°ì¤€ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
5. ê¸°ì¡´ ëŒ€ë¹„ ê°œì„ ìœ¨ ì¸¡ì •"
```

**ì»¨í…ìŠ¤íŠ¸ ì œê³µ:**

```
"src/payment/stripe.ts íŒŒì¼ì˜ handleWebhook í•¨ìˆ˜ë¥¼ ë¦¬íŒ©í† ë§í•´ì£¼ì„¸ìš”.

í˜„ì¬ ë¬¸ì œ:
- í•¨ìˆ˜ê°€ 200ì¤„ë¡œ ë„ˆë¬´ ê¹€
- ì—ëŸ¬ ì²˜ë¦¬ ëˆ„ë½
- í…ŒìŠ¤íŠ¸í•˜ê¸° ì–´ë ¤ì›€

ëª©í‘œ:
- ê° ì›¹í›… íƒ€ì…ë³„ë¡œ ë³„ë„ í•¸ë“¤ëŸ¬ í•¨ìˆ˜ ë¶„ë¦¬
- ëª¨ë“  ì™¸ë¶€ API í˜¸ì¶œì— try-catch ì¶”ê°€
- ê° í•¸ë“¤ëŸ¬ì— ëŒ€í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±

ì°¸ê³ :
- í”„ë¡œì íŠ¸ì˜ ì½”ë”© ìŠ¤íƒ€ì¼: docs/STYLE_GUIDE.md
- Stripe ì›¹í›… íƒ€ì… ëª©ë¡: docs/STRIPE_WEBHOOKS.md"
```

---

## ë¶€ë¡: ì„¤ì • íŒŒì¼ ë° ìŠ¤í¬ë¦½íŠ¸ ì˜ˆì œ

### A. Claude Code ì„¤ì • íŒŒì¼ ì „ì²´ ì˜ˆì œ

`~/.claude/settings.json`:

```json
{
  "api": {
    "baseURL": "https://api.anthropic.com",
    "defaultModel": "claude-sonnet-4-5-20250929",
    "timeout": 60000
  },
  "plansDirectory": "${workspaceFolder}/.claude/plans",
  "planFileNaming": {
    "pattern": "plan-{date}-{slug}.md",
    "dateFormat": "YYYY-MM-DD",
    "slugSource": "title"
  },
  "mcpToolSearch": {
    "enabled": "auto",
    "threshold": "5%",
    "strategy": "semantic"
  },
  "promptCaching": {
    "enabled": true,
    "strategy": "aggressive",
    "ttl": 3600
  },
  "hooks": {
    "init": {
      "command": "bash",
      "args": ["${workspaceFolder}/.claude/init.sh"]
    },
    "maintenance": {
      "command": "bash",
      "args": ["${workspaceFolder}/.claude/maintenance.sh"],
      "schedule": "0 2 * * 0"
    },
    "prePlanApproval": {
      "command": "python3",
      "args": ["${workspaceFolder}/.claude/hooks/archive-plan.py", "${planFile}"]
    },
    "preToolUse": {
      "command": "bash",
      "args": ["${workspaceFolder}/.claude/hooks/security-check.sh", "${toolName}"],
      "injectContext": true
    }
  },
  "statusBar": {
    "show": true,
    "format": "{model} | Ctx: {context}/{contextLimit} ({contextPercent}%) | {gitBranch}",
    "updateInterval": 2000
  },
  "diffView": {
    "enabled": true,
    "autoOpen": true,
    "mode": "side-by-side"
  },
  "filePatterns": {
    "include": [
      "src/**/*.{ts,tsx,js,jsx}",
      "tests/**/*.test.ts",
      "*.md"
    ],
    "exclude": [
      "node_modules/**",
      "dist/**",
      "build/**",
      "*.log"
    ]
  },
  "agent": {
    "maxRetries": 3,
    "retryDelay": 5000,
    "parallelTasks": 2
  }
}
```

### B. Antigravity ì„¤ì • ì˜ˆì œ

`~/.antigravity/config.json`:

```json
{
  "workspace": {
    "default": "/Users/dev/projects",
    "recent": [
      "/Users/dev/projects/ecommerce",
      "/Users/dev/projects/ai-review"
    ]
  },
  "agents": {
    "maxConcurrent": 4,
    "defaultModel": "gemini-3-pro-preview",
    "taskTimeout": 3600000,
    "autoRetry": true
  },
  "browser": {
    "headless": false,
    "width": 1920,
    "height": 1080,
    "recordVideo": true,
    "recordingPath": "${workspace}/.antigravity/recordings"
  },
  "security": {
    "allowList": [
      "localhost",
      "*.google.com",
      "*.github.com",
      "*.anthropic.com"
    ],
    "denyList": [
      "*.malicious.com"
    ],
    "terminalExecution": "review"
  },
  "notifications": {
    "slack": {
      "enabled": true,
      "webhook": "${env:SLACK_WEBHOOK_URL}",
      "channel": "#dev-notifications"
    },
    "email": {
      "enabled": false
    }
  }
}
```

### C. í”„ë¡œì íŠ¸ë³„ Claude ì„¤ì •

`.claude/project.json`:

```json
{
  "name": "E-Commerce Platform",
  "description": "Microservices-based e-commerce system",
  "techStack": [
    "TypeScript",
    "Node.js",
    "React",
    "PostgreSQL",
    "Redis",
    "Docker",
    "Kubernetes"
  ],
  "codingStandards": {
    "style": "Airbnb",
    "linter": "ESLint",
    "formatter": "Prettier",
    "typeChecker": "TypeScript strict mode"
  },
  "mcpServers": [
    {
      "name": "github",
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-github"],
      "env": {
        "GITHUB_TOKEN": "${env:GITHUB_TOKEN}"
      }
    },
    {
      "name": "postgres",
      "command": "docker",
      "args": ["run", "--rm", "mcp-postgres"],
      "env": {
        "DATABASE_URL": "${env:DATABASE_URL}"
      }
    },
    {
      "name": "slack",
      "command": "npx",
      "args": ["-y", "mcp-slack"],
      "env": {
        "SLACK_TOKEN": "${env:SLACK_TOKEN}"
      }
    }
  ],
  "customInstructions": [
    "Always write unit tests for business logic",
    "Use repository pattern for database access",
    "Follow SOLID principles",
    "Add JSDoc comments for public APIs",
    "Use conventional commits format"
  ]
}
```

### D. ìœ ìš©í•œ ì…¸ ìŠ¤í¬ë¦½íŠ¸

**`.claude/hooks/security-check.sh`** (ìœ„í—˜í•œ ë„êµ¬ ì‚¬ìš© ì „ í™•ì¸):

```bash
#!/bin/bash

TOOL_NAME=$1

# ìœ„í—˜í•œ ë„êµ¬ ëª©ë¡
DANGEROUS_TOOLS=(
  "bash_execute"
  "file_delete"
  "database_drop"
  "npm_publish"
  "docker_rm"
)

# ìœ„í—˜í•œ ë„êµ¬ì¸ì§€ í™•ì¸
for tool in "${DANGEROUS_TOOLS[@]}"; do
  if [[ "$TOOL_NAME" == "$tool" ]]; then
    echo "âš ï¸  ìœ„í—˜: '$TOOL_NAME' ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ë ¤ê³  í•©ë‹ˆë‹¤."
    echo ""
    echo "ì¶”ê°€ ì»¨í…ìŠ¤íŠ¸:"
    echo "- í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤"
    echo "- ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"
    echo "- ë°˜ë“œì‹œ ë°±ì—…ì„ í™•ì¸í•˜ì„¸ìš”"
    echo ""
    echo "ê³„ì† ì§„í–‰í•˜ë ¤ë©´ 'CONFIRM'ì„ ì…ë ¥í•˜ì„¸ìš”:"
    read confirmation
    
    if [[ "$confirmation" != "CONFIRM" ]]; then
      echo '{"success": false, "message": "ì‚¬ìš©ìê°€ ìœ„í—˜í•œ ì‘ì—…ì„ ê±°ë¶€í–ˆìŠµë‹ˆë‹¤"}'
      exit 1
    fi
  fi
done

echo '{"success": true}'
```

**`.claude/init.sh`** (í”„ë¡œì íŠ¸ ì´ˆê¸°í™”):

```bash
#!/bin/bash
set -e

echo "ğŸš€ í”„ë¡œì íŠ¸ ì´ˆê¸°í™” ì‹œì‘..."

# í™˜ê²½ í™•ì¸
check_command() {
  if ! command -v $1 &> /dev/null; then
    echo "âŒ $1ì´ ì„¤ì¹˜ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤"
    exit 1
  fi
}

check_command node
check_command docker
check_command git

# Node.js ë²„ì „ í™•ì¸
required_version="18.0.0"
current_version=$(node -v | cut -d'v' -f2)

if [ "$(printf '%s\n' "$required_version" "$current_version" | sort -V | head -n1)" != "$required_version" ]; then
  echo "âŒ Node.js 18.0.0 ì´ìƒì´ í•„ìš”í•©ë‹ˆë‹¤ (í˜„ì¬: $current_version)"
  exit 1
fi

# .env íŒŒì¼ ìƒì„±
if [ ! -f .env ]; then
  echo "ğŸ“ .env íŒŒì¼ ìƒì„±..."
  cp .env.example .env
  echo "âš ï¸  .env íŒŒì¼ì„ ì—´ì–´ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì„¤ì •í•˜ì„¸ìš”"
fi

# ì˜ì¡´ì„± ì„¤ì¹˜
echo "ğŸ“¦ ì˜ì¡´ì„± ì„¤ì¹˜..."
npm ci

# ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
echo "ğŸ—„ï¸  ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™”..."
docker-compose up -d postgres redis
sleep 5

# ë§ˆì´ê·¸ë ˆì´ì…˜
npx prisma migrate deploy
npx prisma db seed

# ë¹Œë“œ í…ŒìŠ¤íŠ¸
echo "ğŸ”¨ ë¹Œë“œ í…ŒìŠ¤íŠ¸..."
npm run build

# í…ŒìŠ¤íŠ¸ ì‹¤í–‰
echo "ğŸ§ª í…ŒìŠ¤íŠ¸ ì‹¤í–‰..."
npm test

echo "âœ… ì´ˆê¸°í™” ì™„ë£Œ!"
echo ""
echo "ë‹¤ìŒ ëª…ë ¹ìœ¼ë¡œ ê°œë°œ ì„œë²„ë¥¼ ì‹œì‘í•˜ì„¸ìš”:"
echo "  npm run dev"
```

**`.claude/maintenance.sh`** (ì •ê¸° ìœ ì§€ë³´ìˆ˜):

```bash
#!/bin/bash

echo "ğŸ”§ ìœ ì§€ë³´ìˆ˜ ì‘ì—… ì‹œì‘ ($(date))"

# ì½”ë“œ í¬ë§·íŒ…
echo "âœ¨ ì½”ë“œ í¬ë§·íŒ…..."
npx prettier --write "src/**/*.{ts,tsx,js,jsx,json,css,md}" --log-level warn

# Linting
echo "ğŸ” Lint ê²€ì‚¬..."
npx eslint "src/**/*.{ts,tsx,js,jsx}" --fix --quiet

# íƒ€ì… ì²´í¬
echo "ğŸ¯ íƒ€ì… ì²´í¬..."
npx tsc --noEmit

# ì˜ì¡´ì„± ê°ì‚¬
echo "ğŸ”’ ë³´ì•ˆ ì·¨ì•½ì  ê²€ì‚¬..."
npm audit --audit-level=moderate --json > /tmp/audit.json

vulnerabilities=$(jq '.metadata.vulnerabilities | to_entries | map(select(.value > 0)) | length' /tmp/audit.json)

if [ "$vulnerabilities" -gt 0 ]; then
  echo "âš ï¸  ë°œê²¬ëœ ì·¨ì•½ì : $vulnerabilitiesê°œ"
  npm audit fix --dry-run
fi

# ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì˜ì¡´ì„±
echo "ğŸ§¹ ë¯¸ì‚¬ìš© ì˜ì¡´ì„± ê²€ì‚¬..."
npx depcheck --json > /tmp/depcheck.json

unused=$(jq '.dependencies | length' /tmp/depcheck.json)
if [ "$unused" -gt 0 ]; then
  echo "âš ï¸  ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” íŒ¨í‚¤ì§€: $unusedê°œ"
  jq '.dependencies' /tmp/depcheck.json
fi

# í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€
echo "ğŸ“Š í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€..."
npm run test:coverage -- --silent

coverage=$(grep -oP 'All files.*?\|\s+\K[\d.]+' coverage/coverage-summary.json | jq -s 'add/length')
echo "í˜„ì¬ ì»¤ë²„ë¦¬ì§€: ${coverage}%"

if (( $(echo "$coverage < 80" | bc -l) )); then
  echo "âš ï¸  ì»¤ë²„ë¦¬ì§€ ëª©í‘œ ë¯¸ë‹¬ (ëª©í‘œ: 80%)"
fi

# ë²ˆë“¤ í¬ê¸° ë¶„ì„
echo "ğŸ“¦ ë²ˆë“¤ í¬ê¸° ë¶„ì„..."
npm run build -- --analyze > /tmp/bundle.txt
main_size=$(grep "main" /tmp/bundle.txt | awk '{print $2}')
echo "ë©”ì¸ ë²ˆë“¤ í¬ê¸°: $main_size"

echo "âœ… ìœ ì§€ë³´ìˆ˜ ì™„ë£Œ ($(date))"

# Slack ì•Œë¦¼ (ì„ íƒì‚¬í•­)
if [ -n "$SLACK_WEBHOOK" ]; then
  curl -X POST "$SLACK_WEBHOOK" \
    -H 'Content-Type: application/json' \
    -d "{
      \"text\": \"ìœ ì§€ë³´ìˆ˜ ì™„ë£Œ\",
      \"attachments\": [{
        \"color\": \"good\",
        \"fields\": [
          {\"title\": \"ì»¤ë²„ë¦¬ì§€\", \"value\": \"${coverage}%\", \"short\": true},
          {\"title\": \"ì·¨ì•½ì \", \"value\": \"${vulnerabilities}ê°œ\", \"short\": true}
        ]
      }]
    }"
fi
```

---

## ë§ˆë¬´ë¦¬

ì´ ê°€ì´ë“œëŠ” Claude Code 2.1ê³¼ Google Antigravityë¥¼ í™œìš©í•œ AI ê°œë°œì˜ ì‹¤ì „ ì§€ì‹ì„ ë‹´ê³  ìˆìŠµë‹ˆë‹¤. í•µì‹¬ ìš”ì ì„ ì •ë¦¬í•˜ë©´:

**1. ì—­í•  ë¶„ë‹´ì´ í•µì‹¬ì…ë‹ˆë‹¤**
- Antigravity (Gemini): ê³„íšê³¼ êµ¬ì¡° ì„¤ê³„
- Claude Code (Opus/Sonnet): ì‹¤ì œ ì½”ë“œ ì‘ì„±
- Antigravity Browser: ìë™ í…ŒìŠ¤íŠ¸

**2. ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬ê°€ ì„±ê³µì˜ ì—´ì‡ ì…ë‹ˆë‹¤**
- ê³„íšê³¼ ì‹¤í–‰ì„ ë¶„ë¦¬í•˜ì—¬ í† í° ì ˆì•½
- MCP ë„êµ¬ ê²€ìƒ‰ìœ¼ë¡œ íš¨ìœ¨ì„± ê·¹ëŒ€í™”
- ì ì ˆí•œ ëª¨ë¸ ì„ íƒìœ¼ë¡œ ë¹„ìš© ìµœì í™”

**3. ìë™í™”ê°€ ìƒì‚°ì„±ì„ ë°°ê°€ì‹œí‚µë‹ˆë‹¤**
- Hooksë¥¼ í™œìš©í•œ ì›Œí¬í”Œë¡œìš° ìë™í™”
- í…ŒìŠ¤íŠ¸ ìš°ì„  ì ‘ê·¼ìœ¼ë¡œ í’ˆì§ˆ ë³´ì¥
- Git í†µí•©ìœ¼ë¡œ ë²„ì „ ê´€ë¦¬ ì²´ê³„í™”

**4. ì ì§„ì  ì ‘ê·¼ì´ ì•ˆì „í•©ë‹ˆë‹¤**
- ì‘ì€ ì‘ì—…ë¶€í„° ì‹œì‘
- ë‹¨ê³„ë³„ ê²€í† ì™€ ìŠ¹ì¸
- í•­ìƒ ë¡¤ë°± ê°€ëŠ¥í•œ ìƒíƒœ ìœ ì§€

**ë‹¤ìŒ ë‹¨ê³„:**

1. ê°„ë‹¨í•œ í”„ë¡œì íŠ¸ë¡œ ì‹œì‘ (TODO ì•±, ê³„ì‚°ê¸° ë“±)
2. ì„¤ì • íŒŒì¼ ì»¤ìŠ¤í„°ë§ˆì´ì§•
3. Hook ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±
4. ì‹¤ì œ í”„ë¡œì íŠ¸ì— ì ìš©
5. íŒ€ê³¼ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ ê³µìœ 

AI ì½”ë”©ì˜ ë¯¸ë˜ëŠ” ì´ë¯¸ ì—¬ê¸°ì— ìˆìŠµë‹ˆë‹¤. ì¤‘ìš”í•œ ê²ƒì€ ì´ ë„êµ¬ë“¤ì„ ì–´ë–»ê²Œ í™œìš©í•˜ëŠëƒì…ë‹ˆë‹¤. ì´ ê°€ì´ë“œê°€ ì—¬ëŸ¬ë¶„ì˜ ê°œë°œ ìƒì‚°ì„±ì„ íšê¸°ì ìœ¼ë¡œ í–¥ìƒì‹œí‚¤ëŠ” ë° ë„ì›€ì´ ë˜ê¸°ë¥¼ ë°”ëë‹ˆë‹¤.

Happy Coding with AI! ğŸš€

---

**ì‘ì„±ì¼ì: 2026-01-20**
